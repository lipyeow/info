var En=Object.defineProperty;var Tn=(e,t,n)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var b=(e,t,n)=>Tn(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pe=globalThis,gt=Pe.ShadowRoot&&(Pe.ShadyCSS===void 0||Pe.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,en=Symbol(),At=new WeakMap;let Dn=class{constructor(t,n,i){if(this._$cssResult$=!0,i!==en)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(gt&&t===void 0){const i=n!==void 0&&n.length===1;i&&(t=At.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&At.set(n,t))}return t}toString(){return this.cssText}};const Ln=e=>new Dn(typeof e=="string"?e:e+"",void 0,en),Vn=(e,t)=>{if(gt)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const i=document.createElement("style"),r=Pe.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=n.cssText,e.appendChild(i)}},Pt=gt?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const i of t.cssRules)n+=i.cssText;return Ln(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Hn,defineProperty:zn,getOwnPropertyDescriptor:On,getOwnPropertyNames:Gn,getOwnPropertySymbols:Bn,getPrototypeOf:jn}=Object,Z=globalThis,It=Z.trustedTypes,Un=It?It.emptyScript:"",Be=Z.reactiveElementPolyfillSupport,pe=(e,t)=>e,Me={toAttribute(e,t){switch(t){case Boolean:e=e?Un:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},ht=(e,t)=>!Hn(e,t),Mt={attribute:!0,type:String,converter:Me,reflect:!1,useDefault:!1,hasChanged:ht};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Z.litPropertyMetadata??(Z.litPropertyMetadata=new WeakMap);let re=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Mt){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,n);r!==void 0&&zn(this.prototype,t,r)}}static getPropertyDescriptor(t,n,i){const{get:r,set:s}=On(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:r,set(o){const l=r==null?void 0:r.call(this);s==null||s.call(this,o),this.requestUpdate(t,l,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Mt}static _$Ei(){if(this.hasOwnProperty(pe("elementProperties")))return;const t=jn(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(pe("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(pe("properties"))){const n=this.properties,i=[...Gn(n),...Bn(n)];for(const r of i)this.createProperty(r,n[r])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[i,r]of n)this.elementProperties.set(i,r)}this._$Eh=new Map;for(const[n,i]of this.elementProperties){const r=this._$Eu(n,i);r!==void 0&&this._$Eh.set(r,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const r of i)n.unshift(Pt(r))}else t!==void 0&&n.push(Pt(t));return n}static _$Eu(t,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const i of n.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Vn(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var i;return(i=n.hostConnected)==null?void 0:i.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var i;return(i=n.hostDisconnected)==null?void 0:i.call(n)})}attributeChangedCallback(t,n,i){this._$AK(t,i)}_$ET(t,n){var s;const i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(r!==void 0&&i.reflect===!0){const o=(((s=i.converter)==null?void 0:s.toAttribute)!==void 0?i.converter:Me).toAttribute(n,i.type);this._$Em=t,o==null?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}_$AK(t,n){var s,o;const i=this.constructor,r=i._$Eh.get(t);if(r!==void 0&&this._$Em!==r){const l=i.getPropertyOptions(r),a=typeof l.converter=="function"?{fromAttribute:l.converter}:((s=l.converter)==null?void 0:s.fromAttribute)!==void 0?l.converter:Me;this._$Em=r;const u=a.fromAttribute(n,l.type);this[r]=u??((o=this._$Ej)==null?void 0:o.get(r))??u,this._$Em=null}}requestUpdate(t,n,i,r=!1,s){var o;if(t!==void 0){const l=this.constructor;if(r===!1&&(s=this[t]),i??(i=l.getPropertyOptions(t)),!((i.hasChanged??ht)(s,n)||i.useDefault&&i.reflect&&s===((o=this._$Ej)==null?void 0:o.get(t))&&!this.hasAttribute(l._$Eu(t,i))))return;this.C(t,n,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:i,reflect:r,wrapped:s},o){i&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??n??this[t]),s!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||i||(n=void 0),this._$AL.set(t,n)),r===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,o]of r){const{wrapped:l}=o,a=this[s];l!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,o,a)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdate)==null?void 0:s.call(r)}),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(i=>{var r;return(r=i.hostUpdated)==null?void 0:r.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};re.elementStyles=[],re.shadowRootOptions={mode:"open"},re[pe("elementProperties")]=new Map,re[pe("finalized")]=new Map,Be==null||Be({ReactiveElement:re}),(Z.reactiveElementVersions??(Z.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fe=globalThis,Ft=e=>e,Fe=fe.trustedTypes,Et=Fe?Fe.createPolicy("lit-html",{createHTML:e=>e}):void 0,tn="$lit$",q=`lit$${Math.random().toFixed(9).slice(2)}$`,nn="?"+q,Nn=`<${nn}>`,te=document,Se=()=>te.createComment(""),ve=e=>e===null||typeof e!="object"&&typeof e!="function",pt=Array.isArray,qn=e=>pt(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",je=`[ 	
\f\r]`,ue=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Tt=/-->/g,Dt=/>/g,J=RegExp(`>|${je}(?:([^\\s"'>=/]+)(${je}*=${je}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Lt=/'/g,Vt=/"/g,rn=/^(?:script|style|textarea|title)$/i,Kn=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),_=Kn(1),W=Symbol.for("lit-noChange"),k=Symbol.for("lit-nothing"),Ht=new WeakMap,Y=te.createTreeWalker(te,129);function sn(e,t){if(!pt(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Et!==void 0?Et.createHTML(t):t}const Zn=(e,t)=>{const n=e.length-1,i=[];let r,s=t===2?"<svg>":t===3?"<math>":"",o=ue;for(let l=0;l<n;l++){const a=e[l];let u,c,h=-1,g=0;for(;g<a.length&&(o.lastIndex=g,c=o.exec(a),c!==null);)g=o.lastIndex,o===ue?c[1]==="!--"?o=Tt:c[1]!==void 0?o=Dt:c[2]!==void 0?(rn.test(c[2])&&(r=RegExp("</"+c[2],"g")),o=J):c[3]!==void 0&&(o=J):o===J?c[0]===">"?(o=r??ue,h=-1):c[1]===void 0?h=-2:(h=o.lastIndex-c[2].length,u=c[1],o=c[3]===void 0?J:c[3]==='"'?Vt:Lt):o===Vt||o===Lt?o=J:o===Tt||o===Dt?o=ue:(o=J,r=void 0);const d=o===J&&e[l+1].startsWith("/>")?" ":"";s+=o===ue?a+Nn:h>=0?(i.push(u),a.slice(0,h)+tn+a.slice(h)+q+d):a+q+(h===-2?l:d)}return[sn(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};class _e{constructor({strings:t,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const l=t.length-1,a=this.parts,[u,c]=Zn(t,n);if(this.el=_e.createElement(u,i),Y.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(r=Y.nextNode())!==null&&a.length<l;){if(r.nodeType===1){if(r.hasAttributes())for(const h of r.getAttributeNames())if(h.endsWith(tn)){const g=c[o++],d=r.getAttribute(h).split(q),p=/([.?@])?(.*)/.exec(g);a.push({type:1,index:s,name:p[2],strings:d,ctor:p[1]==="."?Qn:p[1]==="?"?Jn:p[1]==="@"?Xn:Le}),r.removeAttribute(h)}else h.startsWith(q)&&(a.push({type:6,index:s}),r.removeAttribute(h));if(rn.test(r.tagName)){const h=r.textContent.split(q),g=h.length-1;if(g>0){r.textContent=Fe?Fe.emptyScript:"";for(let d=0;d<g;d++)r.append(h[d],Se()),Y.nextNode(),a.push({type:2,index:++s});r.append(h[g],Se())}}}else if(r.nodeType===8)if(r.data===nn)a.push({type:2,index:s});else{let h=-1;for(;(h=r.data.indexOf(q,h+1))!==-1;)a.push({type:7,index:s}),h+=q.length-1}s++}}static createElement(t,n){const i=te.createElement("template");return i.innerHTML=t,i}}function oe(e,t,n=e,i){var o,l;if(t===W)return t;let r=i!==void 0?(o=n._$Co)==null?void 0:o[i]:n._$Cl;const s=ve(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==s&&((l=r==null?void 0:r._$AO)==null||l.call(r,!1),s===void 0?r=void 0:(r=new s(e),r._$AT(e,n,i)),i!==void 0?(n._$Co??(n._$Co=[]))[i]=r:n._$Cl=r),r!==void 0&&(t=oe(e,r._$AS(e,t.values),r,i)),t}class Wn{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:i}=this._$AD,r=((t==null?void 0:t.creationScope)??te).importNode(n,!0);Y.currentNode=r;let s=Y.nextNode(),o=0,l=0,a=i[0];for(;a!==void 0;){if(o===a.index){let u;a.type===2?u=new le(s,s.nextSibling,this,t):a.type===1?u=new a.ctor(s,a.name,a.strings,this,t):a.type===6&&(u=new Yn(s,this,t)),this._$AV.push(u),a=i[++l]}o!==(a==null?void 0:a.index)&&(s=Y.nextNode(),o++)}return Y.currentNode=te,r}p(t){let n=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}}class le{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,i,r){this.type=2,this._$AH=k,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=oe(this,t,n),ve(t)?t===k||t==null||t===""?(this._$AH!==k&&this._$AR(),this._$AH=k):t!==this._$AH&&t!==W&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):qn(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==k&&ve(this._$AH)?this._$AA.nextSibling.data=t:this.T(te.createTextNode(t)),this._$AH=t}$(t){var s;const{values:n,_$litType$:i}=t,r=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=_e.createElement(sn(i.h,i.h[0]),this.options)),i);if(((s=this._$AH)==null?void 0:s._$AD)===r)this._$AH.p(n);else{const o=new Wn(r,this),l=o.u(this.options);o.p(n),this.T(l),this._$AH=o}}_$AC(t){let n=Ht.get(t.strings);return n===void 0&&Ht.set(t.strings,n=new _e(t)),n}k(t){pt(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of t)r===n.length?n.push(i=new le(this.O(Se()),this.O(Se()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(t=this._$AA.nextSibling,n){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,n);t!==this._$AB;){const r=Ft(t).nextSibling;Ft(t).remove(),t=r}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}}class Le{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,i,r,s){this.type=1,this._$AH=k,this._$AN=void 0,this.element=t,this.name=n,this._$AM=r,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=k}_$AI(t,n=this,i,r){const s=this.strings;let o=!1;if(s===void 0)t=oe(this,t,n,0),o=!ve(t)||t!==this._$AH&&t!==W,o&&(this._$AH=t);else{const l=t;let a,u;for(t=s[0],a=0;a<s.length-1;a++)u=oe(this,l[i+a],n,a),u===W&&(u=this._$AH[a]),o||(o=!ve(u)||u!==this._$AH[a]),u===k?t=k:t!==k&&(t+=(u??"")+s[a+1]),this._$AH[a]=u}o&&!r&&this.j(t)}j(t){t===k?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Qn extends Le{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===k?void 0:t}}class Jn extends Le{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==k)}}class Xn extends Le{constructor(t,n,i,r,s){super(t,n,i,r,s),this.type=5}_$AI(t,n=this){if((t=oe(this,t,n,0)??k)===W)return;const i=this._$AH,r=t===k&&i!==k||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==k&&(i===k||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}class Yn{constructor(t,n,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){oe(this,t)}}const ei={I:le},Ue=fe.litHtmlPolyfillSupport;Ue==null||Ue(_e,le),(fe.litHtmlVersions??(fe.litHtmlVersions=[])).push("3.3.2");const ti=(e,t,n)=>{const i=(n==null?void 0:n.renderBefore)??t;let r=i._$litPart$;if(r===void 0){const s=(n==null?void 0:n.renderBefore)??null;i._$litPart$=r=new le(t.insertBefore(Se(),s),s,void 0,n??{})}return r._$AI(e),r};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ee=globalThis;let N=class extends re{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=ti(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return W}};var Yt;N._$litElement$=!0,N.finalized=!0,(Yt=ee.litElementHydrateSupport)==null||Yt.call(ee,{LitElement:N});const Ne=ee.litElementPolyfillSupport;Ne==null||Ne({LitElement:N});(ee.litElementVersions??(ee.litElementVersions=[])).push("4.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ce=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ni={attribute:!0,type:String,converter:Me,reflect:!1,hasChanged:ht},ii=(e=ni,t,n)=>{const{kind:i,metadata:r}=n;let s=globalThis.litPropertyMetadata.get(r);if(s===void 0&&globalThis.litPropertyMetadata.set(r,s=new Map),i==="setter"&&((e=Object.create(e)).wrapped=!0),s.set(n.name,e),i==="accessor"){const{name:o}=n;return{set(l){const a=t.get.call(this);t.set.call(this,l),this.requestUpdate(o,a,e,!0,l)},init(l){return l!==void 0&&this.C(o,void 0,e,l),l}}}if(i==="setter"){const{name:o}=n;return function(l){const a=this[o];t.call(this,l),this.requestUpdate(o,a,e,!0,l)}}throw Error("Unsupported decorator location: "+i)};function G(e){return(t,n)=>typeof n=="object"?ii(e,t,n):((i,r,s)=>{const o=r.hasOwnProperty(s);return r.constructor.createProperty(s,i),o?Object.getOwnPropertyDescriptor(r,s):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function F(e){return G({...e,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const on={CHILD:2},ln=e=>(...t)=>({_$litDirective$:e,values:t});let an=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,i){this._$Ct=t,this._$AM=n,this._$Ci=i}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class nt extends an{constructor(t){if(super(t),this.it=k,t.type!==on.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===k||t==null)return this._t=void 0,this.it=t;if(t===W)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const n=[t];return n.raw=n,this._t={_$litType$:this.constructor.resultType,strings:n,values:[]}}}nt.directiveName="unsafeHTML",nt.resultType=1;const se=ln(nt);var ri=Object.defineProperty,si=Object.getOwnPropertyDescriptor,un=(e,t,n,i)=>{for(var r=i>1?void 0:i?si(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=(i?o(t,n,r):o(r))||r);return i&&r&&ri(t,n,r),r};let it=class extends N{constructor(){super(...arguments),this.htmlContent=""}createRenderRoot(){return this}render(){return _`${se(this.htmlContent)}`}};un([G({type:String,attribute:"html-content"})],it.prototype,"htmlContent",2);it=un([Ce("rich-content")],it);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:oi}=ei,zt=e=>e,Ot=()=>document.createComment(""),ce=(e,t,n)=>{var s;const i=e._$AA.parentNode,r=t===void 0?e._$AB:t._$AA;if(n===void 0){const o=i.insertBefore(Ot(),r),l=i.insertBefore(Ot(),r);n=new oi(o,l,e,e.options)}else{const o=n._$AB.nextSibling,l=n._$AM,a=l!==e;if(a){let u;(s=n._$AQ)==null||s.call(n,e),n._$AM=e,n._$AP!==void 0&&(u=e._$AU)!==l._$AU&&n._$AP(u)}if(o!==r||a){let u=n._$AA;for(;u!==o;){const c=zt(u).nextSibling;zt(i).insertBefore(u,r),u=c}}}return n},X=(e,t,n=e)=>(e._$AI(t,n),e),li={},ai=(e,t=li)=>e._$AH=t,ui=e=>e._$AH,qe=e=>{e._$AR(),e._$AA.remove()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gt=(e,t,n)=>{const i=new Map;for(let r=t;r<=n;r++)i.set(e[r],r);return i},Bt=ln(class extends an{constructor(e){if(super(e),e.type!==on.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,n){let i;n===void 0?n=t:t!==void 0&&(i=t);const r=[],s=[];let o=0;for(const l of e)r[o]=i?i(l,o):o,s[o]=n(l,o),o++;return{values:s,keys:r}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,i]){const r=ui(e),{values:s,keys:o}=this.dt(t,n,i);if(!Array.isArray(r))return this.ut=o,s;const l=this.ut??(this.ut=[]),a=[];let u,c,h=0,g=r.length-1,d=0,p=s.length-1;for(;h<=g&&d<=p;)if(r[h]===null)h++;else if(r[g]===null)g--;else if(l[h]===o[d])a[d]=X(r[h],s[d]),h++,d++;else if(l[g]===o[p])a[p]=X(r[g],s[p]),g--,p--;else if(l[h]===o[p])a[p]=X(r[h],s[p]),ce(e,a[p+1],r[h]),h++,p--;else if(l[g]===o[d])a[d]=X(r[g],s[d]),ce(e,r[h],r[g]),g--,d++;else if(u===void 0&&(u=Gt(o,d,p),c=Gt(l,h,g)),u.has(l[h]))if(u.has(l[g])){const f=c.get(o[d]),v=f!==void 0?r[f]:null;if(v===null){const m=ce(e,r[h]);X(m,s[d]),a[d]=m}else a[d]=X(v,s[d]),ce(e,r[h],v),r[f]=null;d++}else qe(r[g]),g--;else qe(r[h]),h++;for(;d<=p;){const f=ce(e,a[p+1]);X(f,s[d]),a[d++]=f}for(;h<=g;){const f=r[h++];f!==null&&qe(f)}return this.ut=o,ai(e,a),W}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function K(e,t){return typeof e=="function"?e(t):e}function E(e,t){return n=>{t.setState(i=>({...i,[e]:K(n,i[e])}))}}function Ve(e){return e instanceof Function}function ci(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function cn(e,t){const n=[],i=r=>{r.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&i(o)})};return i(e),n}function w(e,t,n){let i=[],r;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=e(s);if(!(l.length!==i.length||l.some((c,h)=>i[h]!==c)))return r;i=l;let u;if(n.key&&n.debug&&(u=Date.now()),r=t(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-u)*100)/100,g=h/16,d=(p,f)=>{for(p=String(p);p.length<f;)p=" "+p;return p};console.info(`%câ± ${d(h,5)} /${d(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function S(e,t,n,i){return{debug:()=>{var r;return(r=e==null?void 0:e.debugAll)!=null?r:e[t]},key:!1,onChange:i}}function di(e,t,n,i){const r=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(i),renderValue:r,getContext:w(()=>[e,n,t,s],(o,l,a,u)=>({table:o,column:l,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),S(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function gi(e,t,n,i){var r,s;const l={...e._getDefaultColumnDef(),...t},a=l.accessorKey;let u=(r=(s=l.id)!=null?s:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,c;if(l.accessorFn?c=l.accessorFn:a&&(a.includes(".")?c=g=>{let d=g;for(const f of a.split(".")){var p;d=(p=d)==null?void 0:p[f]}return d}:c=g=>g[l.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:c,parent:i,depth:n,columnDef:l,columns:[],getFlatColumns:w(()=>[!0],()=>{var g;return[h,...(g=h.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},S(e.options,"debugColumns")),getLeafColumns:w(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=h.columns)!=null&&d.length){let p=h.columns.flatMap(f=>f.getLeafColumns());return g(p)}return[h]},S(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(h,e);return h}const I="debugHeaders";function jt(e,t,n){var i;let s={id:(i=n.id)!=null?i:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(l),o.push(a)};return l(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const hi={createTable:e=>{e.getHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,i,r)=>{var s,o;const l=(s=i==null?void 0:i.map(h=>n.find(g=>g.id===h)).filter(Boolean))!=null?s:[],a=(o=r==null?void 0:r.map(h=>n.find(g=>g.id===h)).filter(Boolean))!=null?o:[],u=n.filter(h=>!(i!=null&&i.includes(h.id))&&!(r!=null&&r.includes(h.id)));return Re(t,[...l,...u,...a],e)},S(e.options,I)),e.getCenterHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,i,r)=>(n=n.filter(s=>!(i!=null&&i.includes(s.id))&&!(r!=null&&r.includes(s.id))),Re(t,n,e,"center")),S(e.options,I)),e.getLeftHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,i)=>{var r;const s=(r=i==null?void 0:i.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return Re(t,s,e,"left")},S(e.options,I)),e.getRightHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,i)=>{var r;const s=(r=i==null?void 0:i.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return Re(t,s,e,"right")},S(e.options,I)),e.getFooterGroups=w(()=>[e.getHeaderGroups()],t=>[...t].reverse(),S(e.options,I)),e.getLeftFooterGroups=w(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),S(e.options,I)),e.getCenterFooterGroups=w(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),S(e.options,I)),e.getRightFooterGroups=w(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),S(e.options,I)),e.getFlatHeaders=w(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),S(e.options,I)),e.getLeftFlatHeaders=w(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),S(e.options,I)),e.getCenterFlatHeaders=w(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),S(e.options,I)),e.getRightFlatHeaders=w(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),S(e.options,I)),e.getCenterLeafHeaders=w(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),S(e.options,I)),e.getLeftLeafHeaders=w(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),S(e.options,I)),e.getRightLeafHeaders=w(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),S(e.options,I)),e.getLeafHeaders=w(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,i)=>{var r,s,o,l,a,u;return[...(r=(s=t[0])==null?void 0:s.headers)!=null?r:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(a=(u=i[0])==null?void 0:u.headers)!=null?a:[]].map(c=>c.getLeafHeaders()).flat()},S(e.options,I))}};function Re(e,t,n,i){var r,s;let o=0;const l=function(g,d){d===void 0&&(d=1),o=Math.max(o,d),g.filter(p=>p.getIsVisible()).forEach(p=>{var f;(f=p.columns)!=null&&f.length&&l(p.columns,d+1)},0)};l(e);let a=[];const u=(g,d)=>{const p={depth:d,id:[i,`${d}`].filter(Boolean).join("_"),headers:[]},f=[];g.forEach(v=>{const m=[...f].reverse()[0],$=v.column.depth===p.depth;let C,P=!1;if($&&v.column.parent?C=v.column.parent:(C=v.column,P=!0),m&&(m==null?void 0:m.column)===C)m.subHeaders.push(v);else{const A=jt(n,C,{id:[i,d,C.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${f.filter(y=>y.column===C).length}`:void 0,depth:d,index:f.length});A.subHeaders.push(v),f.push(A)}p.headers.push(v),v.headerGroup=p}),a.push(p),d>0&&u(f,d-1)},c=t.map((g,d)=>jt(n,g,{depth:o,index:d}));u(c,o-1),a.reverse();const h=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let f=0,v=0,m=[0];p.subHeaders&&p.subHeaders.length?(m=[],h(p.subHeaders).forEach(C=>{let{colSpan:P,rowSpan:A}=C;f+=P,m.push(A)})):f=1;const $=Math.min(...m);return v=v+$,p.colSpan=f,p.rowSpan=v,{colSpan:f,rowSpan:v}});return h((r=(s=a[0])==null?void 0:s.headers)!=null?r:[]),a}const He=(e,t,n,i,r,s,o)=>{let l={id:t,index:i,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(l._valuesCache.hasOwnProperty(a))return l._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return l._valuesCache[a]=u.accessorFn(l.original,i),l._valuesCache[a]},getUniqueValues:a=>{if(l._uniqueValuesCache.hasOwnProperty(a))return l._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[a]=u.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[a]):(l._uniqueValuesCache[a]=[l.getValue(a)],l._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=l.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>cn(l.subRows,a=>a.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let a=[],u=l;for(;;){const c=u.getParentRow();if(!c)break;a.push(c),u=c}return a.reverse()},getAllCells:w(()=>[e.getAllLeafColumns()],a=>a.map(u=>di(e,l,u,u.id)),S(e.options,"debugRows")),_getAllCellsByColumnId:w(()=>[l.getAllCells()],a=>a.reduce((u,c)=>(u[c.column.id]=c,u),{}),S(e.options,"debugRows"))};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(l,e)}return l},pi={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},dn=(e,t,n)=>{var i,r;const s=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(s))};dn.autoRemove=e=>V(e);const gn=(e,t,n)=>{var i;return!!(!((i=e.getValue(t))==null||(i=i.toString())==null)&&i.includes(n))};gn.autoRemove=e=>V(e);const hn=(e,t,n)=>{var i;return((i=e.getValue(t))==null||(i=i.toString())==null?void 0:i.toLowerCase())===(n==null?void 0:n.toLowerCase())};hn.autoRemove=e=>V(e);const pn=(e,t,n)=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(n)};pn.autoRemove=e=>V(e);const fn=(e,t,n)=>!n.some(i=>{var r;return!((r=e.getValue(t))!=null&&r.includes(i))});fn.autoRemove=e=>V(e)||!(e!=null&&e.length);const mn=(e,t,n)=>n.some(i=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(i)});mn.autoRemove=e=>V(e)||!(e!=null&&e.length);const wn=(e,t,n)=>e.getValue(t)===n;wn.autoRemove=e=>V(e);const Sn=(e,t,n)=>e.getValue(t)==n;Sn.autoRemove=e=>V(e);const ft=(e,t,n)=>{let[i,r]=n;const s=e.getValue(t);return s>=i&&s<=r};ft.resolveFilterValue=e=>{let[t,n]=e,i=typeof t!="number"?parseFloat(t):t,r=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(i)?-1/0:i,o=n===null||Number.isNaN(r)?1/0:r;if(s>o){const l=s;s=o,o=l}return[s,o]};ft.autoRemove=e=>V(e)||V(e[0])&&V(e[1]);const B={includesString:dn,includesStringSensitive:gn,equalsString:hn,arrIncludes:pn,arrIncludesAll:fn,arrIncludesSome:mn,equals:wn,weakEquals:Sn,inNumberRange:ft};function V(e){return e==null||e===""}const fi={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:E("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],i=n==null?void 0:n.getValue(e.id);return typeof i=="string"?B.includesString:typeof i=="number"?B.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?B.equals:Array.isArray(i)?B.arrIncludes:B.weakEquals},e.getFilterFn=()=>{var n,i;return Ve(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(i=t.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?n:B[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,i,r;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((i=t.options.enableColumnFilters)!=null?i:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(i=>i.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,i;return(n=(i=t.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(i=>{const r=e.getFilterFn(),s=i==null?void 0:i.find(c=>c.id===e.id),o=K(n,s?s.value:void 0);if(Ut(r,o,e)){var l;return(l=i==null?void 0:i.filter(c=>c.id!==e.id))!=null?l:[]}const a={id:e.id,value:o};if(s){var u;return(u=i==null?void 0:i.map(c=>c.id===e.id?a:c))!=null?u:[]}return i!=null&&i.length?[...i,a]:[a]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),i=r=>{var s;return(s=K(t,r))==null?void 0:s.filter(o=>{const l=n.find(a=>a.id===o.id);if(l){const a=l.getFilterFn();if(Ut(a,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=t=>{var n,i;e.setColumnFilters(t?[]:(n=(i=e.initialState)==null?void 0:i.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ut(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const mi=(e,t,n)=>n.reduce((i,r)=>{const s=r.getValue(e);return i+(typeof s=="number"?s:0)},0),wi=(e,t,n)=>{let i;return n.forEach(r=>{const s=r.getValue(e);s!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}),i},Si=(e,t,n)=>{let i;return n.forEach(r=>{const s=r.getValue(e);s!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}),i},vi=(e,t,n)=>{let i,r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(i===void 0?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)))}),[i,r]},_i=(e,t)=>{let n=0,i=0;if(t.forEach(r=>{let s=r.getValue(e);s!=null&&(s=+s)>=s&&(++n,i+=s)}),n)return i/n},$i=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!ci(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((s,o)=>s-o);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},Ci=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),yi=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,xi=(e,t)=>t.length,Ke={sum:mi,min:wi,max:Si,extent:vi,mean:_i,median:$i,unique:Ci,uniqueCount:yi,count:xi},Ri={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:E("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(i=>i!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,i;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((i=t.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],i=n==null?void 0:n.getValue(e.id);if(typeof i=="number")return Ke.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Ke.extent},e.getAggregationFn=()=>{var n,i;if(!e)throw new Error;return Ve(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(i=t.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?n:Ke[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,i;e.setGrouping(t?[]:(n=(i=e.initialState)==null?void 0:i.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const i=t.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[n]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,i)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function bi(e,t,n){if(!(t!=null&&t.length)||!n)return e;const i=e.filter(s=>!t.includes(s.id));return n==="remove"?i:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...i]}const ki={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:E("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=w(n=>[me(t,n)],n=>n.findIndex(i=>i.id===e.id),S(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var i;return((i=me(t,n)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=n=>{var i;const r=me(t,n);return((i=r[r.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=w(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,i)=>r=>{let s=[];if(!(t!=null&&t.length))s=r;else{const o=[...t],l=[...r];for(;l.length&&o.length;){const a=o.shift(),u=l.findIndex(c=>c.id===a);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return bi(s,n,i)},S(e.options,"debugTable"))}},Ze=()=>({left:[],right:[]}),Ai={getInitialState:e=>({columnPinning:Ze(),...e}),getDefaultOptions:e=>({onColumnPinningChange:E("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const i=e.getLeafColumns().map(r=>r.id).filter(Boolean);t.setColumnPinning(r=>{var s,o;if(n==="right"){var l,a;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(h=>!(i!=null&&i.includes(h))),right:[...((a=r==null?void 0:r.right)!=null?a:[]).filter(h=>!(i!=null&&i.includes(h))),...i]}}if(n==="left"){var u,c;return{left:[...((u=r==null?void 0:r.left)!=null?u:[]).filter(h=>!(i!=null&&i.includes(h))),...i],right:((c=r==null?void 0:r.right)!=null?c:[]).filter(h=>!(i!=null&&i.includes(h)))}}return{left:((s=r==null?void 0:r.left)!=null?s:[]).filter(h=>!(i!=null&&i.includes(h))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(h=>!(i!=null&&i.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var r,s,o;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:i,right:r}=t.getState().columnPinning,s=n.some(l=>i==null?void 0:i.includes(l)),o=n.some(l=>r==null?void 0:r.includes(l));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,i;const r=e.getIsPinned();return r?(n=(i=t.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=w(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,i,r)=>{const s=[...i??[],...r??[]];return n.filter(o=>!s.includes(o.column.id))},S(t.options,"debugRows")),e.getLeftVisibleCells=w(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,i)=>(i??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),S(t.options,"debugRows")),e.getRightVisibleCells=w(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,i)=>(i??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),S(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,i;return e.setColumnPinning(t?Ze():(n=(i=e.initialState)==null?void 0:i.columnPinning)!=null?n:Ze())},e.getIsSomeColumnsPinned=t=>{var n;const i=e.getState().columnPinning;if(!t){var r,s;return!!((r=i.left)!=null&&r.length||(s=i.right)!=null&&s.length)}return!!((n=i[t])!=null&&n.length)},e.getLeftLeafColumns=w(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(i=>t.find(r=>r.id===i)).filter(Boolean),S(e.options,"debugColumns")),e.getRightLeafColumns=w(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(i=>t.find(r=>r.id===i)).filter(Boolean),S(e.options,"debugColumns")),e.getCenterLeafColumns=w(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,i)=>{const r=[...n??[],...i??[]];return t.filter(s=>!r.includes(s.id))},S(e.options,"debugColumns"))}};function Pi(e){return e||(typeof document<"u"?document:null)}const be={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},We=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ii={getDefaultColumnDef:()=>be,getInitialState:e=>({columnSizing:{},columnSizingInfo:We(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:E("columnSizing",e),onColumnSizingInfoChange:E("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,i,r;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:be.minSize,(i=s??e.columnDef.size)!=null?i:be.size),(r=e.columnDef.maxSize)!=null?r:be.maxSize)},e.getStart=w(n=>[n,me(t,n),t.getState().columnSizing],(n,i)=>i.slice(0,e.getIndex(n)).reduce((r,s)=>r+s.getSize(),0),S(t.options,"debugColumns")),e.getAfter=w(n=>[n,me(t,n),t.getState().columnSizing],(n,i)=>i.slice(e.getIndex(n)+1).reduce((r,s)=>r+s.getSize(),0),S(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:i,...r}=n;return r})},e.getCanResize=()=>{var n,i;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((i=t.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var s;n+=(s=r.column.getSize())!=null?s:0}};return i(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const i=t.getColumn(e.column.id),r=i==null?void 0:i.getCanResize();return s=>{if(!i||!r||(s.persist==null||s.persist(),Qe(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[i.id,i.getSize()]],a=Qe(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(m,$)=>{typeof $=="number"&&(t.setColumnSizingInfo(C=>{var P,A;const y=t.options.columnResizeDirection==="rtl"?-1:1,L=($-((P=C==null?void 0:C.startOffset)!=null?P:0))*y,ae=Math.max(L/((A=C==null?void 0:C.startSize)!=null?A:0),-.999999);return C.columnSizingStart.forEach(xe=>{let[Fn,kt]=xe;u[Fn]=Math.round(Math.max(kt+kt*ae,0)*100)/100}),{...C,deltaOffset:L,deltaPercentage:ae}}),(t.options.columnResizeMode==="onChange"||m==="end")&&t.setColumnSizing(C=>({...C,...u})))},h=m=>c("move",m),g=m=>{c("end",m),t.setColumnSizingInfo($=>({...$,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=Pi(n),p={moveHandler:m=>h(m.clientX),upHandler:m=>{d==null||d.removeEventListener("mousemove",p.moveHandler),d==null||d.removeEventListener("mouseup",p.upHandler),g(m.clientX)}},f={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),h(m.touches[0].clientX),!1),upHandler:m=>{var $;d==null||d.removeEventListener("touchmove",f.moveHandler),d==null||d.removeEventListener("touchend",f.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),g(($=m.touches[0])==null?void 0:$.clientX)}},v=Mi()?{passive:!1}:!1;Qe(s)?(d==null||d.addEventListener("touchmove",f.moveHandler,v),d==null||d.addEventListener("touchend",f.upHandler,v)):(d==null||d.addEventListener("mousemove",p.moveHandler,v),d==null||d.addEventListener("mouseup",p.upHandler,v)),t.setColumnSizingInfo(m=>({...m,startOffset:a,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?We():(n=e.initialState.columnSizingInfo)!=null?n:We())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0}}};let ke=null;function Mi(){if(typeof ke=="boolean")return ke;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ke=e,ke}function Qe(e){return e.type==="touchstart"}const Fi={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:E("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(i=>({...i,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,i;const r=e.columns;return(n=r.length?r.some(s=>s.getIsVisible()):(i=t.getState().columnVisibility)==null?void 0:i[e.id])!=null?n:!0},e.getCanHide=()=>{var n,i;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((i=t.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=w(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),S(t.options,"debugRows")),e.getVisibleCells=w(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],S(t.options,"debugRows"))},createTable:e=>{const t=(n,i)=>w(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),S(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var i;e.setColumnVisibility(n?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,s)=>({...r,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;e.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function me(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ei={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Ti={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:E("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const i=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,i,r,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=t.options.enableGlobalFilter)!=null?i:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>B.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:i}=e.options;return Ve(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[i])!=null?t:B[i]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Di={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:E("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var i,r;if(!t){e._queue(()=>{t=!0});return}if((i=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var r,s;e.setExpanded(i?{}:(r=(s=e.initialState)==null?void 0:s.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");i=Math.max(i,o.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(i=>{var r;const s=i===!0?!0:!!(i!=null&&i[e.id]);let o={};if(i===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=i,n=(r=n)!=null?r:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:l,...a}=o;return a}return i})},e.getIsExpanded=()=>{var n;const i=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:i===!0||i!=null&&i[e.id])},e.getCanExpand=()=>{var n,i,r;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((i=t.options.enableExpanding)!=null?i:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let n=!0,i=e;for(;n&&i.parentId;)i=t.getRow(i.parentId,!0),n=i.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},rt=0,st=10,Je=()=>({pageIndex:rt,pageSize:st}),Li={getInitialState:e=>({...e,pagination:{...Je(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:E("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var i,r;if(!t){e._queue(()=>{t=!0});return}if((i=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=i=>{const r=s=>K(i,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=i=>{var r;e.setPagination(i?Je():(r=e.initialState.pagination)!=null?r:Je())},e.setPageIndex=i=>{e.setPagination(r=>{let s=K(i,r.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...r,pageIndex:s}})},e.resetPageIndex=i=>{var r,s;e.setPageIndex(i?rt:(r=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?r:rt)},e.resetPageSize=i=>{var r,s;e.setPageSize(i?st:(r=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?r:st)},e.setPageSize=i=>{e.setPagination(r=>{const s=Math.max(1,K(i,r.pageSize)),o=r.pageSize*r.pageIndex,l=Math.floor(o/s);return{...r,pageIndex:l,pageSize:s}})},e.setPageCount=i=>e.setPagination(r=>{var s;let o=K(i,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),e.getPageOptions=w(()=>[e.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((s,o)=>o)),r},S(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:i<r-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},Xe=()=>({top:[],bottom:[]}),Vi={getInitialState:e=>({rowPinning:Xe(),...e}),getDefaultOptions:e=>({onRowPinningChange:E("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,i,r)=>{const s=i?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],o=r?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],l=new Set([...o,e.id,...s]);t.setRowPinning(a=>{var u,c;if(n==="bottom"){var h,g;return{top:((h=a==null?void 0:a.top)!=null?h:[]).filter(f=>!(l!=null&&l.has(f))),bottom:[...((g=a==null?void 0:a.bottom)!=null?g:[]).filter(f=>!(l!=null&&l.has(f))),...Array.from(l)]}}if(n==="top"){var d,p;return{top:[...((d=a==null?void 0:a.top)!=null?d:[]).filter(f=>!(l!=null&&l.has(f))),...Array.from(l)],bottom:((p=a==null?void 0:a.bottom)!=null?p:[]).filter(f=>!(l!=null&&l.has(f)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(f=>!(l!=null&&l.has(f))),bottom:((c=a==null?void 0:a.bottom)!=null?c:[]).filter(f=>!(l!=null&&l.has(f)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=t.options;return typeof i=="function"?i(e):(n=i??r)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:i,bottom:r}=t.getState().rowPinning,s=n.some(l=>i==null?void 0:i.includes(l)),o=n.some(l=>r==null?void 0:r.includes(l));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,i;const r=e.getIsPinned();if(!r)return-1;const s=(n=r==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(i=s==null?void 0:s.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,i;return e.setRowPinning(t?Xe():(n=(i=e.initialState)==null?void 0:i.rowPinning)!=null?n:Xe())},e.getIsSomeRowsPinned=t=>{var n;const i=e.getState().rowPinning;if(!t){var r,s;return!!((r=i.top)!=null&&r.length||(s=i.bottom)!=null&&s.length)}return!!((n=i[t])!=null&&n.length)},e._getPinnedRows=(t,n,i)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>t.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:i}))},e.getTopRows=w(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),S(e.options,"debugRows")),e.getBottomRows=w(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),S(e.options,"debugRows")),e.getCenterRows=w(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,i)=>{const r=new Set([...n??[],...i??[]]);return t.filter(s=>!r.has(s.id))},S(e.options,"debugRows"))}},Hi={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:E("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const i={...n},r=e.getPreGroupedRowModel().flatRows;return t?r.forEach(s=>{s.getCanSelect()&&(i[s.id]=!0)}):r.forEach(s=>{delete i[s.id]}),i})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const i=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),r={...n};return e.getRowModel().rows.forEach(s=>{ot(r,s.id,i,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=w(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Ye(e,n):{rows:[],flatRows:[],rowsById:{}},S(e.options,"debugTable")),e.getFilteredSelectedRowModel=w(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Ye(e,n):{rows:[],flatRows:[],rowsById:{}},S(e.options,"debugTable")),e.getGroupedSelectedRowModel=w(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Ye(e,n):{rows:[],flatRows:[],rowsById:{}},S(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let i=!!(t.length&&Object.keys(n).length);return i&&t.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=e.getState();let i=!!t.length;return i&&t.some(r=>!n[r.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,i)=>{const r=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!r,e.getCanSelect()&&r===n)return s;const l={...s};return ot(l,e.id,n,(o=i==null?void 0:i.selectChildren)!=null?o:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return mt(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return lt(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return lt(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return i=>{var r;n&&e.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},ot=(e,t,n,i,r)=>{var s;const o=r.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[t]=!0)):delete e[t],i&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>ot(e,l.id,n,i,r))};function Ye(e,t){const n=e.getState().rowSelection,i=[],r={},s=function(o,l){return o.map(a=>{var u;const c=mt(a,n);if(c&&(i.push(a),r[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:s(a.subRows)}),c)return a}).filter(Boolean)};return{rows:s(t.rows),flatRows:i,rowsById:r}}function mt(e,t){var n;return(n=t[e.id])!=null?n:!1}function lt(e,t,n){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let r=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!r)&&(o.getCanSelect()&&(mt(o,t)?s=!0:r=!1),o.subRows&&o.subRows.length)){const l=lt(o,t);l==="all"?s=!0:(l==="some"&&(s=!0),r=!1)}}),r?"all":s?"some":!1}const at=/([0-9]+)/gm,zi=(e,t,n)=>vn(Q(e.getValue(n)).toLowerCase(),Q(t.getValue(n)).toLowerCase()),Oi=(e,t,n)=>vn(Q(e.getValue(n)),Q(t.getValue(n))),Gi=(e,t,n)=>wt(Q(e.getValue(n)).toLowerCase(),Q(t.getValue(n)).toLowerCase()),Bi=(e,t,n)=>wt(Q(e.getValue(n)),Q(t.getValue(n))),ji=(e,t,n)=>{const i=e.getValue(n),r=t.getValue(n);return i>r?1:i<r?-1:0},Ui=(e,t,n)=>wt(e.getValue(n),t.getValue(n));function wt(e,t){return e===t?0:e>t?1:-1}function Q(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function vn(e,t){const n=e.split(at).filter(Boolean),i=t.split(at).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),s=i.shift(),o=parseInt(r,10),l=parseInt(s,10),a=[o,l].sort();if(isNaN(a[0])){if(r>s)return 1;if(s>r)return-1;continue}if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-i.length}const de={alphanumeric:zi,alphanumericCaseSensitive:Oi,text:Gi,textCaseSensitive:Bi,datetime:ji,basic:Ui},Ni={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:E("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const s=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return de.datetime;if(typeof s=="string"&&(i=!0,s.split(at).length>1))return de.alphanumeric}return i?de.text:de.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,i;if(!e)throw new Error;return Ve(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(i=t.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?n:de[e.columnDef.sortingFn]},e.toggleSorting=(n,i)=>{const r=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const l=o==null?void 0:o.find(d=>d.id===e.id),a=o==null?void 0:o.findIndex(d=>d.id===e.id);let u=[],c,h=s?n:r==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&i?l?c="toggle":c="add":o!=null&&o.length&&a!==o.length-1?c="replace":l?c="toggle":c="replace",c==="toggle"&&(s||r||(c="remove")),c==="add"){var g;u=[...o,{id:e.id,desc:h}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(d=>d.id===e.id?{...d,desc:h}:d):c==="remove"?u=o.filter(d=>d.id!==e.id):u=[{id:e.id,desc:h}];return u})},e.getFirstSortDir=()=>{var n,i;return((n=(i=e.columnDef.sortDescFirst)!=null?i:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var i,r;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((i=t.options.enableSortingRemoval)==null||i)&&(!(n&&(r=t.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,i;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((i=t.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,i;return(n=(i=e.columnDef.enableMultiSort)!=null?i:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const i=(n=t.getState().sorting)==null?void 0:n.find(r=>r.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,i;return(n=(i=t.getState().sorting)==null?void 0:i.findIndex(r=>r.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return i=>{n&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,i;e.setSorting(t?[]:(n=(i=e.initialState)==null?void 0:i.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},qi=[hi,Fi,ki,Ai,pi,fi,Ei,Ti,Ni,Ri,Di,Li,Vi,Hi,Ii];function Ki(e){var t,n;const i=[...qi,...(t=e._features)!=null?t:[]];let r={_features:i};const s=r._features.reduce((g,d)=>Object.assign(g,d.getDefaultOptions==null?void 0:d.getDefaultOptions(r)),{}),o=g=>r.options.mergeOptions?r.options.mergeOptions(s,g):{...s,...g};let a={...{},...(n=e.initialState)!=null?n:{}};r._features.forEach(g=>{var d;a=(d=g.getInitialState==null?void 0:g.getInitialState(a))!=null?d:a});const u=[];let c=!1;const h={_features:i,options:{...s,...e},initialState:a,_queue:g=>{u.push(g),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{r.setState(r.initialState)},setOptions:g=>{const d=K(g,r.options);r.options=o(d)},getState:()=>r.options.state,setState:g=>{r.options.onStateChange==null||r.options.onStateChange(g)},_getRowId:(g,d,p)=>{var f;return(f=r.options.getRowId==null?void 0:r.options.getRowId(g,d,p))!=null?f:`${p?[p.id,d].join("."):d}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(g,d)=>{let p=(d?r.getPrePaginationRowModel():r.getRowModel()).rowsById[g];if(!p&&(p=r.getCoreRowModel().rowsById[g],!p))throw new Error;return p},_getDefaultColumnDef:w(()=>[r.options.defaultColumn],g=>{var d;return g=(d=g)!=null?d:{},{header:p=>{const f=p.header.column.columnDef;return f.accessorKey?f.accessorKey:f.accessorFn?f.id:null},cell:p=>{var f,v;return(f=(v=p.renderValue())==null||v.toString==null?void 0:v.toString())!=null?f:null},...r._features.reduce((p,f)=>Object.assign(p,f.getDefaultColumnDef==null?void 0:f.getDefaultColumnDef()),{}),...g}},S(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:w(()=>[r._getColumnDefs()],g=>{const d=function(p,f,v){return v===void 0&&(v=0),p.map(m=>{const $=gi(r,m,v,f),C=m;return $.columns=C.columns?d(C.columns,$,v+1):[],$})};return d(g)},S(e,"debugColumns")),getAllFlatColumns:w(()=>[r.getAllColumns()],g=>g.flatMap(d=>d.getFlatColumns()),S(e,"debugColumns")),_getAllFlatColumnsById:w(()=>[r.getAllFlatColumns()],g=>g.reduce((d,p)=>(d[p.id]=p,d),{}),S(e,"debugColumns")),getAllLeafColumns:w(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(g,d)=>{let p=g.flatMap(f=>f.getLeafColumns());return d(p)},S(e,"debugColumns")),getColumn:g=>r._getAllFlatColumnsById()[g]};Object.assign(r,h);for(let g=0;g<r._features.length;g++){const d=r._features[g];d==null||d.createTable==null||d.createTable(r)}return r}function Nt(){return e=>w(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,s,o){s===void 0&&(s=0);const l=[];for(let u=0;u<r.length;u++){const c=He(e,e._getRowId(r[u],u,o),r[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,l.push(c),e.options.getSubRows){var a;c.originalSubRows=e.options.getSubRows(r[u],u),(a=c.originalSubRows)!=null&&a.length&&(c.subRows=i(c.originalSubRows,s+1,c))}}return l};return n.rows=i(t),n},S(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Zi(){return e=>w(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,i)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!i?n:Wi(n),S(e.options,"debugTable"))}function Wi(e){const t=[],n=i=>{var r;t.push(i),(r=i.subRows)!=null&&r.length&&i.getIsExpanded()&&i.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Qi(e,t,n){return n.options.filterFromLeafRows?Ji(e,t,n):Xi(e,t,n)}function Ji(e,t,n){var i;const r=[],s={},o=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,l=function(a,u){u===void 0&&(u=0);const c=[];for(let g=0;g<a.length;g++){var h;let d=a[g];const p=He(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,(h=d.subRows)!=null&&h.length&&u<o){if(p.subRows=l(d.subRows,u+1),d=p,t(d)&&!p.subRows.length){c.push(d),s[d.id]=d,r.push(d);continue}if(t(d)||p.subRows.length){c.push(d),s[d.id]=d,r.push(d);continue}}else d=p,t(d)&&(c.push(d),s[d.id]=d,r.push(d))}return c};return{rows:l(e),flatRows:r,rowsById:s}}function Xi(e,t,n){var i;const r=[],s={},o=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,l=function(a,u){u===void 0&&(u=0);const c=[];for(let g=0;g<a.length;g++){let d=a[g];if(t(d)){var h;if((h=d.subRows)!=null&&h.length&&u<o){const f=He(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);f.subRows=l(d.subRows,u+1),d=f}c.push(d),r.push(d),s[d.id]=d}}return c};return{rows:l(e),flatRows:r,rowsById:s}}function Yi(){return e=>w(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,i)=>{if(!t.rows.length||!(n!=null&&n.length)&&!i){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const r=[],s=[];(n??[]).forEach(g=>{var d;const p=e.getColumn(g.id);if(!p)return;const f=p.getFilterFn();f&&r.push({id:g.id,filterFn:f,resolvedValue:(d=f.resolveFilterValue==null?void 0:f.resolveFilterValue(g.value))!=null?d:g.value})});const o=(n??[]).map(g=>g.id),l=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());i&&l&&a.length&&(o.push("__global__"),a.forEach(g=>{var d;s.push({id:g.id,filterFn:l,resolvedValue:(d=l.resolveFilterValue==null?void 0:l.resolveFilterValue(i))!=null?d:i})}));let u,c;for(let g=0;g<t.flatRows.length;g++){const d=t.flatRows[g];if(d.columnFilters={},r.length)for(let p=0;p<r.length;p++){u=r[p];const f=u.id;d.columnFilters[f]=u.filterFn(d,f,u.resolvedValue,v=>{d.columnFiltersMeta[f]=v})}if(s.length){for(let p=0;p<s.length;p++){c=s[p];const f=c.id;if(c.filterFn(d,f,c.resolvedValue,v=>{d.columnFiltersMeta[f]=v})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const h=g=>{for(let d=0;d<o.length;d++)if(g.columnFilters[o[d]]===!1)return!1;return!0};return Qi(t.rows,h,e)},S(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function er(){return e=>w(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(a=>{a.depth=0,a.parentId=void 0}),n;const i=t.filter(a=>e.getColumn(a)),r=[],s={},o=function(a,u,c){if(u===void 0&&(u=0),u>=i.length)return a.map(p=>(p.depth=u,r.push(p),s[p.id]=p,p.subRows&&(p.subRows=o(p.subRows,u+1,p.id)),p));const h=i[u],g=tr(a,h);return Array.from(g.entries()).map((p,f)=>{let[v,m]=p,$=`${h}:${v}`;$=c?`${c}>${$}`:$;const C=o(m,u+1,$);C.forEach(y=>{y.parentId=$});const P=u?cn(m,y=>y.subRows):m,A=He(e,$,P[0].original,f,u,void 0,c);return Object.assign(A,{groupingColumnId:h,groupingValue:v,subRows:C,leafRows:P,getValue:y=>{if(i.includes(y)){if(A._valuesCache.hasOwnProperty(y))return A._valuesCache[y];if(m[0]){var L;A._valuesCache[y]=(L=m[0].getValue(y))!=null?L:void 0}return A._valuesCache[y]}if(A._groupingValuesCache.hasOwnProperty(y))return A._groupingValuesCache[y];const ae=e.getColumn(y),xe=ae==null?void 0:ae.getAggregationFn();if(xe)return A._groupingValuesCache[y]=xe(y,P,m),A._groupingValuesCache[y]}}),C.forEach(y=>{r.push(y),s[y.id]=y}),A})},l=o(n.rows,0);return l.forEach(a=>{r.push(a),s[a.id]=a}),{rows:l,flatRows:r,rowsById:s}},S(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function tr(e,t){const n=new Map;return e.reduce((i,r)=>{const s=`${r.getGroupingValue(t)}`,o=i.get(s);return o?o.push(r):i.set(s,[r]),i},n)}function nr(){return e=>w(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const i=e.getState().sorting,r=[],s=i.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),o={};s.forEach(a=>{const u=e.getColumn(a.id);u&&(o[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=a=>{const u=a.map(c=>({...c}));return u.sort((c,h)=>{for(let d=0;d<s.length;d+=1){var g;const p=s[d],f=o[p.id],v=f.sortUndefined,m=(g=p==null?void 0:p.desc)!=null?g:!1;let $=0;if(v){const C=c.getValue(p.id),P=h.getValue(p.id),A=C===void 0,y=P===void 0;if(A||y){if(v==="first")return A?-1:1;if(v==="last")return A?1:-1;$=A&&y?0:A?v:-v}}if($===0&&($=f.sortingFn(c,h,p.id)),$!==0)return m&&($*=-1),f.invertSorting&&($*=-1),$}return c.index-h.index}),u.forEach(c=>{var h;r.push(c),(h=c.subRows)!=null&&h.length&&(c.subRows=l(c.subRows))}),u};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},S(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * lit-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function et(e,t){return e?typeof e=="function"?e(t):e:null}class ir{constructor(t){b(this,"tableInstance",null);b(this,"_tableState",null);(this.host=t).addController(this)}table(t){if(!this.tableInstance){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...t};this.tableInstance=Ki(n),this._tableState={...this.tableInstance.initialState,...t.state}}return this.tableInstance.setOptions(n=>({...n,...t,state:{...this._tableState,...t.state},onStateChange:i=>{this._tableState=i(this._tableState),this.host.requestUpdate(),t.onStateChange==null||t.onStateChange(i)}})),this.tableInstance}hostDisconnected(){}}var rr=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,H=(e,t,n,i)=>{for(var r=i>1?void 0:i?sr(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=(i?o(t,n,r):o(r))||r);return i&&r&&rr(t,n,r),r};let T=class extends N{constructor(){super(...arguments),this.dataUrl="",this.label="",this.colspecs=[],this.options={},this._data=[],this._sorting=[],this._globalFilter="",this._grouping=[],this._expanded=!0,this._loading=!0,this.tableController=new ir(this),this._handleSortingChange=e=>{typeof e=="function"?this._sorting=e(this._sorting):this._sorting=e}}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.dataUrl&&this._fetchData()}async _fetchData(){try{const e=await fetch(this.dataUrl);this._data=await e.json();const t=this.colspecs.find(n=>n.defaultSort);if(t&&(this._sorting=[{id:t.field,desc:t.defaultSort==="desc"}]),this.options.grouping){const n=this.colspecs.filter(i=>i.defaultGroupOrder!==void 0).sort((i,r)=>(i.defaultGroupOrder??0)-(r.defaultGroupOrder??0));n.length>0&&(this._grouping=n.map(i=>i.field))}}catch(e){console.error("DataTable fetch error:",e),this._data=[]}finally{this._loading=!1}}_buildColumns(){return this.colspecs.map(e=>{const t={accessorKey:e.field,header:e.title,enableGrouping:this.options.grouping??!1};if(e.link){const n=e.link.prefix??"",i=e.link.text??"";t.cell=r=>{const s=r.getValue();if(!s)return"";const o=n+s,l=i.length===0?s:i;return _`<a href="${o}" target="_blank" rel="noopener">${l}</a>`}}return e.cellStyle&&(t.meta={cellStyle:e.cellStyle}),t})}_handleSearchInput(e){this._globalFilter=e.target.value}_exportCsv(){const e=this.tableController.table({columns:this._buildColumns(),data:this._data,getCoreRowModel:Nt()}),t=this.colspecs.map(a=>a.title),n=this.colspecs.map(a=>a.field),i=e.getRowModel().rows.map(a=>n.map(u=>{const c=a.original[u],h=String(c??"");return h.includes(",")||h.includes('"')||h.includes(`
`)?`"${h.replace(/"/g,'""')}"`:h})),r=[t.join(","),...i.map(a=>a.join(","))].join(`
`),s=new Blob([r],{type:"text/csv"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download="export.csv",l.click(),URL.revokeObjectURL(o)}render(){if(this._loading)return _`<div class="data-table-container"><p>Loading...</p></div>`;const e=this._buildColumns(),t=this.options.padding==="dense",n=this.options.maxBodyHeight??"none",i={columns:e,data:this._data,state:{sorting:this._sorting,globalFilter:this._globalFilter,grouping:this._grouping,expanded:this._expanded},onSortingChange:this._handleSortingChange,onExpandedChange:o=>{typeof o=="function"?this._expanded=o(this._expanded):this._expanded=o},getCoreRowModel:Nt(),getSortedRowModel:nr(),getFilteredRowModel:Yi(),globalFilterFn:"includesString"};this.options.grouping&&this._grouping.length>0&&(i.getGroupedRowModel=er(),i.getExpandedRowModel=Zi());const r=this.tableController.table(i),s=r.getRowModel().rows.length;return _`
      <div class="data-table-container">
        <div class="data-table-toolbar">
          <div class="data-table-title">${se(this.label)}</div>
          <div class="data-table-toolbar-right">
            ${this.options.search?_`<input
                  class="data-table-search"
                  type="text"
                  placeholder="Search..."
                  .value=${this._globalFilter}
                  @input=${this._handleSearchInput}
                />`:k}
            ${this.options.exportButton?_`<button class="data-table-export" @click=${this._exportCsv}>
                  Export CSV
                </button>`:k}
          </div>
        </div>

        <div class="data-table-scroll" style="max-height: ${n}">
          <table class="data-table-table ${t?"dense":""}">
            <thead>
              ${Bt(r.getHeaderGroups(),o=>o.id,o=>_`
                  <tr>
                    ${o.headers.map(l=>_`
                        <th
                          colspan="${l.colSpan}"
                          @click=${l.column.getToggleSortingHandler()}
                          style="cursor: ${l.column.getCanSort()?"pointer":"default"}"
                        >
                          ${l.isPlaceholder?null:_`${et(l.column.columnDef.header,l.getContext())}${l.column.getIsSorted()==="asc"?_`<span class="sort-indicator">\u25B2</span>`:l.column.getIsSorted()==="desc"?_`<span class="sort-indicator">\u25BC</span>`:k}`}
                        </th>
                      `)}
                  </tr>
                `)}
            </thead>
            <tbody>
              ${Bt(r.getRowModel().rows,o=>o.id,o=>{if(o.getIsGrouped()){const l=o.groupingColumnId,a=o.getValue(l);return _`
                      <tr class="group-header" @click=${o.getToggleExpandedHandler()}>
                        <td colspan="${e.length}">
                          ${o.getIsExpanded()?"â–¼":"â–¶"}
                          ${String(a)} (${o.subRows.length})
                        </td>
                      </tr>
                      ${o.getIsExpanded()?o.subRows.map(u=>_`
                              <tr>
                                ${u.getVisibleCells().map(c=>{const h=c.column.columnDef.meta,g=h!=null&&h.cellStyle?Object.entries(h.cellStyle).map(([d,p])=>`${d}:${p}`).join(";"):"";return _`<td style="${g}">${et(c.column.columnDef.cell,c.getContext())}</td>`})}
                              </tr>
                            `):k}
                    `}return _`
                    <tr>
                      ${o.getVisibleCells().map(l=>{const a=l.column.columnDef.meta,u=a!=null&&a.cellStyle?Object.entries(a.cellStyle).map(([c,h])=>`${c}:${h}`).join(";"):"";return _`<td style="${u}">${et(l.column.columnDef.cell,l.getContext())}</td>`})}
                    </tr>
                  `})}
            </tbody>
          </table>
        </div>

        <div class="data-table-footer">${s} record${s!==1?"s":""}</div>
      </div>
    `}};H([G({type:String,attribute:"data-url"})],T.prototype,"dataUrl",2);H([G({type:String})],T.prototype,"label",2);H([G({type:Array})],T.prototype,"colspecs",2);H([G({type:Object})],T.prototype,"options",2);H([F()],T.prototype,"_data",2);H([F()],T.prototype,"_sorting",2);H([F()],T.prototype,"_globalFilter",2);H([F()],T.prototype,"_grouping",2);H([F()],T.prototype,"_expanded",2);H([F()],T.prototype,"_loading",2);T=H([Ce("data-table")],T);function St(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ie=St();function _n(e){ie=e}var we={exec:()=>null};function R(e,t=""){let n=typeof e=="string"?e:e.source;const i={replace:(r,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(M.caret,"$1"),n=n.replace(r,o),i},getRegex:()=>new RegExp(n,t)};return i}var M={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},or=/^(?:[ \t]*(?:\n|$))+/,lr=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ar=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ye=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ur=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,vt=/(?:[*+-]|\d{1,9}[.)])/,$n=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Cn=R($n).replace(/bull/g,vt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),cr=R($n).replace(/bull/g,vt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),_t=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,dr=/^[^\n]+/,$t=/(?!\s*\])(?:\\.|[^\[\]\\])+/,gr=R(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$t).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),hr=R(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,vt).getRegex(),ze="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ct=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,pr=R("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ct).replace("tag",ze).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yn=R(_t).replace("hr",ye).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze).getRegex(),fr=R(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",yn).getRegex(),yt={blockquote:fr,code:lr,def:gr,fences:ar,heading:ur,hr:ye,html:pr,lheading:Cn,list:hr,newline:or,paragraph:yn,table:we,text:dr},qt=R("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ye).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze).getRegex(),mr={...yt,lheading:cr,table:qt,paragraph:R(_t).replace("hr",ye).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",qt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze).getRegex()},wr={...yt,html:R(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ct).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:we,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:R(_t).replace("hr",ye).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Cn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Sr=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,vr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,xn=/^( {2,}|\\)\n(?!\s*$)/,_r=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Oe=/[\p{P}\p{S}]/u,xt=/[\s\p{P}\p{S}]/u,Rn=/[^\s\p{P}\p{S}]/u,$r=R(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,xt).getRegex(),bn=/(?!~)[\p{P}\p{S}]/u,Cr=/(?!~)[\s\p{P}\p{S}]/u,yr=/(?:[^\s\p{P}\p{S}]|~)/u,xr=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,kn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Rr=R(kn,"u").replace(/punct/g,Oe).getRegex(),br=R(kn,"u").replace(/punct/g,bn).getRegex(),An="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kr=R(An,"gu").replace(/notPunctSpace/g,Rn).replace(/punctSpace/g,xt).replace(/punct/g,Oe).getRegex(),Ar=R(An,"gu").replace(/notPunctSpace/g,yr).replace(/punctSpace/g,Cr).replace(/punct/g,bn).getRegex(),Pr=R("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Rn).replace(/punctSpace/g,xt).replace(/punct/g,Oe).getRegex(),Ir=R(/\\(punct)/,"gu").replace(/punct/g,Oe).getRegex(),Mr=R(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Fr=R(Ct).replace("(?:-->|$)","-->").getRegex(),Er=R("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Fr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ee=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Tr=R(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ee).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Pn=R(/^!?\[(label)\]\[(ref)\]/).replace("label",Ee).replace("ref",$t).getRegex(),In=R(/^!?\[(ref)\](?:\[\])?/).replace("ref",$t).getRegex(),Dr=R("reflink|nolink(?!\\()","g").replace("reflink",Pn).replace("nolink",In).getRegex(),Rt={_backpedal:we,anyPunctuation:Ir,autolink:Mr,blockSkip:xr,br:xn,code:vr,del:we,emStrongLDelim:Rr,emStrongRDelimAst:kr,emStrongRDelimUnd:Pr,escape:Sr,link:Tr,nolink:In,punctuation:$r,reflink:Pn,reflinkSearch:Dr,tag:Er,text:_r,url:we},Lr={...Rt,link:R(/^!?\[(label)\]\((.*?)\)/).replace("label",Ee).getRegex(),reflink:R(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ee).getRegex()},ut={...Rt,emStrongRDelimAst:Ar,emStrongLDelim:br,url:R(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Vr={...ut,br:R(xn).replace("{2,}","*").getRegex(),text:R(ut.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ae={normal:yt,gfm:mr,pedantic:wr},ge={normal:Rt,gfm:ut,breaks:Vr,pedantic:Lr},Hr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kt=e=>Hr[e];function O(e,t){if(t){if(M.escapeTest.test(e))return e.replace(M.escapeReplace,Kt)}else if(M.escapeTestNoEncode.test(e))return e.replace(M.escapeReplaceNoEncode,Kt);return e}function Zt(e){try{e=encodeURI(e).replace(M.percentDecode,"%")}catch{return null}return e}function Wt(e,t){var s;const n=e.replace(M.findPipe,(o,l,a)=>{let u=!1,c=l;for(;--c>=0&&a[c]==="\\";)u=!u;return u?"|":" |"}),i=n.split(M.splitPipe);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!((s=i.at(-1))!=null&&s.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(M.slashPipe,"|");return i}function he(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function zr(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function Qt(e,t,n,i,r){const s=t.href,o=t.title||null,l=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;const a={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,a}function Or(e,t,n){const i=e.match(n.other.indentCodeCompensation);if(i===null)return t;const r=i[1];return t.split(`
`).map(s=>{const o=s.match(n.other.beginningSpace);if(o===null)return s;const[l]=o;return l.length>=r.length?s.slice(r.length):s}).join(`
`)}var Te=class{constructor(e){b(this,"options");b(this,"rules");b(this,"lexer");this.options=e||ie}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:he(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Or(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const i=he(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:he(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=he(t[0],`
`).split(`
`),i="",r="";const s=[];for(;n.length>0;){let o=!1;const l=[];let a;for(a=0;a<n.length;a++)if(this.rules.other.blockquoteStart.test(n[a]))l.push(n[a]),o=!0;else if(!o)l.push(n[a]);else break;n=n.slice(a);const u=l.join(`
`),c=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${u}`:u,r=r?`${r}
${c}`:c;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=h,n.length===0)break;const g=s.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const d=g,p=d.raw+`
`+n.join(`
`),f=this.blockquote(p);s[s.length-1]=f,i=i.substring(0,i.length-d.raw.length)+f.raw,r=r.substring(0,r.length-d.text.length)+f.text;break}else if((g==null?void 0:g.type)==="list"){const d=g,p=d.raw+`
`+n.join(`
`),f=this.list(p);s[s.length-1]=f,i=i.substring(0,i.length-g.raw.length)+f.raw,r=r.substring(0,r.length-d.raw.length)+f.raw,n=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let o=!1;for(;e;){let a=!1,u="",c="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,m=>" ".repeat(3*m.length)),g=e.split(`
`,1)[0],d=!h.trim(),p=0;if(this.options.pedantic?(p=2,c=h.trimStart()):d?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,c=h.slice(p),p+=t[1].length),d&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,e=e.substring(g.length+1),a=!0),!a){const m=this.rules.other.nextBulletRegex(p),$=this.rules.other.hrRegex(p),C=this.rules.other.fencesBeginRegex(p),P=this.rules.other.headingBeginRegex(p),A=this.rules.other.htmlBeginRegex(p);for(;e;){const y=e.split(`
`,1)[0];let L;if(g=y,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),L=g):L=g.replace(this.rules.other.tabCharGlobal,"    "),C.test(g)||P.test(g)||A.test(g)||m.test(g)||$.test(g))break;if(L.search(this.rules.other.nonSpaceChar)>=p||!g.trim())c+=`
`+L.slice(p);else{if(d||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(h)||P.test(h)||$.test(h))break;c+=`
`+g}!d&&!g.trim()&&(d=!0),u+=y+`
`,e=e.substring(y.length+1),h=L.slice(p)}}r.loose||(o?r.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(o=!0));let f=null,v;this.options.gfm&&(f=this.rules.other.listIsTask.exec(c),f&&(v=f[0]!=="[ ] ",c=c.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:u,task:!!f,checked:v,loose:!1,text:c,tokens:[]}),r.raw+=u}const l=r.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let a=0;a<r.items.length;a++)if(this.lexer.state.top=!1,r.items[a].tokens=this.lexer.blockTokens(r.items[a].text,[]),!r.loose){const u=r.items[a].tokens.filter(h=>h.type==="space"),c=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));r.loose=c}if(r.loose)for(let a=0;a<r.items.length;a++)r.items[a].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){var o;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Wt(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(o=t[3])!=null&&o.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const l of i)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(const l of r)s.rows.push(Wt(l,s.header.length).map((a,u)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[u]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=he(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=zr(t[2],"()");if(s===-2)return;if(s>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Qt(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[i.toLowerCase()];if(!r){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Qt(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,a=s,u=0;const c=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(i=c.exec(t))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){a+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(a-=l,a>0)continue;l=Math.min(l,l+a+u);const h=[...i[0]][0].length,g=e.slice(0,s+i.index+h+l);if(Math.min(s,l)%2){const p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}const d=g.slice(2,-2);return{type:"strong",raw:g,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&r&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,r;if(t[2]==="@")i=t[0],r="mailto:"+i;else{let s;do s=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(s!==t[0]);i=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},j=class ct{constructor(t){b(this,"tokens");b(this,"options");b(this,"state");b(this,"tokenizer");b(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ie,this.options.tokenizer=this.options.tokenizer||new Te,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:M,block:Ae.normal,inline:ge.normal};this.options.pedantic?(n.block=Ae.pedantic,n.inline=ge.pedantic):this.options.gfm&&(n.block=Ae.gfm,this.options.breaks?n.inline=ge.breaks:n.inline=ge.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ae,inline:ge}}static lex(t,n){return new ct(n).lex(t)}static lexInline(t,n){return new ct(n).inlineTokens(t)}lex(t){t=t.replace(M.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){var r,s,o;for(this.options.pedantic&&(t=t.replace(M.tabCharGlobal,"    ").replace(M.spaceLine,""));t;){let l;if((s=(r=this.options.extensions)==null?void 0:r.block)!=null&&s.some(u=>(l=u.call({lexer:this},t,n))?(t=t.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);const u=n.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):n.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),n.push(l);continue}let a=t;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0;const c=t.slice(1);let h;this.options.extensions.startBlock.forEach(g=>{h=g.call({lexer:this},c),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(a=t.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(a))){const u=n.at(-1);i&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(l),i=a.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(l);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var l,a,u;let i=t,r=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;t;){s||(o=""),s=!1;let c;if((a=(l=this.options.extensions)==null?void 0:l.inline)!=null&&a.some(g=>(c=g.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);const g=n.at(-1);c.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=c.raw,g.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,i,o)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let h=t;if((u=this.options.extensions)!=null&&u.startInline){let g=1/0;const d=t.slice(1);let p;this.options.extensions.startInline.forEach(f=>{p=f.call({lexer:this},d),typeof p=="number"&&p>=0&&(g=Math.min(g,p))}),g<1/0&&g>=0&&(h=t.substring(0,g+1))}if(c=this.tokenizer.inlineText(h)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),s=!0;const g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=c.raw,g.text+=c.text):n.push(c);continue}if(t){const g="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},De=class{constructor(e){b(this,"options");b(this,"parser");this.options=e||ie}space(e){return""}code({text:e,lang:t,escaped:n}){var s;const i=(s=(t||"").match(M.notSpaceStart))==null?void 0:s[0],r=e.replace(M.endingNewline,"")+`
`;return i?'<pre><code class="language-'+O(i)+'">'+(n?r:O(r,!0))+`</code></pre>
`:"<pre><code>"+(n?r:O(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let i="";for(let o=0;o<e.items.length;o++){const l=e.items[o];i+=this.listitem(l)}const r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+i+"</"+r+`>
`}listitem(e){var n;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+O(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let r=0;r<e.header.length;r++)n+=this.tablecell(e.header[r]);t+=this.tablerow({text:n});let i="";for(let r=0;r<e.rows.length;r++){const s=e.rows[r];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${O(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const i=this.parser.parseInline(n),r=Zt(e);if(r===null)return i;e=r;let s='<a href="'+e+'"';return t&&(s+=' title="'+O(t)+'"'),s+=">"+i+"</a>",s}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));const r=Zt(e);if(r===null)return O(n);e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${O(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:O(e.text)}},bt=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},U=class dt{constructor(t){b(this,"options");b(this,"renderer");b(this,"textRenderer");this.options=t||ie,this.options.renderer=this.options.renderer||new De,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bt}static parse(t,n){return new dt(n).parse(t)}static parseInline(t,n){return new dt(n).parseInline(t)}parse(t,n=!0){var r,s;let i="";for(let o=0;o<t.length;o++){const l=t[o];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[l.type]){const u=l,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){i+=c||"";continue}}const a=l;switch(a.type){case"space":{i+=this.renderer.space(a);continue}case"hr":{i+=this.renderer.hr(a);continue}case"heading":{i+=this.renderer.heading(a);continue}case"code":{i+=this.renderer.code(a);continue}case"table":{i+=this.renderer.table(a);continue}case"blockquote":{i+=this.renderer.blockquote(a);continue}case"list":{i+=this.renderer.list(a);continue}case"html":{i+=this.renderer.html(a);continue}case"paragraph":{i+=this.renderer.paragraph(a);continue}case"text":{let u=a,c=this.renderer.text(u);for(;o+1<t.length&&t[o+1].type==="text";)u=t[++o],c+=`
`+this.renderer.text(u);n?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):i+=c;continue}default:{const u='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(t,n=this.renderer){var r,s;let i="";for(let o=0;o<t.length;o++){const l=t[o];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[l.type]){const u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){i+=u||"";continue}}const a=l;switch(a.type){case"escape":{i+=n.text(a);break}case"html":{i+=n.html(a);break}case"link":{i+=n.link(a);break}case"image":{i+=n.image(a);break}case"strong":{i+=n.strong(a);break}case"em":{i+=n.em(a);break}case"codespan":{i+=n.codespan(a);break}case"br":{i+=n.br(a);break}case"del":{i+=n.del(a);break}case"text":{i+=n.text(a);break}default:{const u='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}},tt,Ie=(tt=class{constructor(e){b(this,"options");b(this,"block");this.options=e||ie}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?j.lex:j.lexInline}provideParser(){return this.block?U.parse:U.parseInline}},b(tt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),tt),Gr=class{constructor(...e){b(this,"defaults",St());b(this,"options",this.setOptions);b(this,"parse",this.parseMarkdown(!0));b(this,"parseInline",this.parseMarkdown(!1));b(this,"Parser",U);b(this,"Renderer",De);b(this,"TextRenderer",bt);b(this,"Lexer",j);b(this,"Tokenizer",Te);b(this,"Hooks",Ie);this.use(...e)}walkTokens(e,t){var i,r;let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,t));for(const l of o.rows)for(const a of l)n=n.concat(this.walkTokens(a.tokens,t));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,t));break}default:{const o=s;(r=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&r[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const a=o[l].flat(1/0);n=n.concat(this.walkTokens(a,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const s=t.renderers[r.name];s?t.renderers[r.name]=function(...o){let l=r.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[r.level];s?s.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){const r=this.defaults.renderer||new De(this.defaults);for(const s in n.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s,l=n.renderer[o],a=r[o];r[o]=(...u)=>{let c=l.apply(r,u);return c===!1&&(c=a.apply(r,u)),c||""}}i.renderer=r}if(n.tokenizer){const r=this.defaults.tokenizer||new Te(this.defaults);for(const s in n.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],a=r[o];r[o]=(...u)=>{let c=l.apply(r,u);return c===!1&&(c=a.apply(r,u)),c}}i.tokenizer=r}if(n.hooks){const r=this.defaults.hooks||new Ie;for(const s in n.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const o=s,l=n.hooks[o],a=r[o];Ie.passThroughHooks.has(s)?r[o]=u=>{if(this.defaults.async)return Promise.resolve(l.call(r,u)).then(h=>a.call(r,h));const c=l.call(r,u);return a.call(r,c)}:r[o]=(...u)=>{let c=l.apply(r,u);return c===!1&&(c=a.apply(r,u)),c}}i.hooks=r}if(n.walkTokens){const r=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),r&&(l=l.concat(r.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return j.lex(e,t??this.defaults)}parser(e,t){return U.parse(e,t??this.defaults)}parseMarkdown(e){return(n,i)=>{const r={...i},s={...this.defaults,...r},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const l=s.hooks?s.hooks.provideLexer():e?j.lex:j.lexInline,a=s.hooks?s.hooks.provideParser():e?U.parse:U.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(u=>l(u,s)).then(u=>s.hooks?s.hooks.processAllTokens(u):u).then(u=>s.walkTokens?Promise.all(this.walkTokens(u,s.walkTokens)).then(()=>u):u).then(u=>a(u,s)).then(u=>s.hooks?s.hooks.postprocess(u):u).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let u=l(n,s);s.hooks&&(u=s.hooks.processAllTokens(u)),s.walkTokens&&this.walkTokens(u,s.walkTokens);let c=a(u,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(u){return o(u)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+O(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},ne=new Gr;function x(e,t){return ne.parse(e,t)}x.options=x.setOptions=function(e){return ne.setOptions(e),x.defaults=ne.defaults,_n(x.defaults),x};x.getDefaults=St;x.defaults=ie;x.use=function(...e){return ne.use(...e),x.defaults=ne.defaults,_n(x.defaults),x};x.walkTokens=function(e,t){return ne.walkTokens(e,t)};x.parseInline=ne.parseInline;x.Parser=U;x.parser=U.parse;x.Renderer=De;x.TextRenderer=bt;x.Lexer=j;x.lexer=j.lex;x.Tokenizer=Te;x.Hooks=Ie;x.parse=x;x.options;x.setOptions;x.use;x.walkTokens;x.parseInline;U.parse;j.lex;const Mn={version:"v0.11",updateComponents:{surfaceId:"main",components:[{id:"root",component:"Column",children:["header","tabs"]},{id:"header",component:"Row",children:["header-img","header-bio"]},{id:"header-img",component:"Image",src:"https://lipyeow.github.io/info/img/lipyeow-20210926-b.jpg",height:"180px",margin:"8px 4em 0 4em"},{id:"header-bio",component:"RichContent",htmlContent:`
<h1>Lipyeow Lim, Ph.D. Â  Â  æž—ç«‹è€€ </h1>
<i>I am a computer scientist, educator, and software engineer by profession</i>
<div align="right"><i> -- and a martial artist by avocation.</i></div>

<br/>
Dublin, CA, USA
Â  â¬¥ Â 
<a href="https://lipyeow.github.io/home/cv/resume.pdf">RÃ©sumÃ© (pdf)</a>
Â  â¬¥ Â 
lipyeow at gmail dot com
Â  â¬¥ Â 
<a href="https://www.linkedin.com/in/lipyeowlim">www.linkedin.com/in/lipyeowlim</a>`},{id:"tabs",component:"Tabs",tabs:[{title:"Computer Scientist",child:"tab-panel-0"},{title:"Educator",child:"tab-panel-1"},{title:"Software Engineer",child:"tab-panel-2"},{title:"Martial Artist",child:"tab-panel-3"},{title:"Chat UI",child:"tab-panel-4"}]},{id:"tab-panel-0",component:"Column",children:["cs-intro","cs-edu-heading","cs-edu-list","cs-pubs-heading","cs-pubs"]},{id:"cs-intro",component:"Markdown",content:`*My scientific research career started with my masters thesis
on pixel ordering in images. I then investigated the use of
machine learning techniques in optimizing database processing
in my doctoral dissertation. I continued with more general
data management research at the **IBM Thomas J. Watson Research
Center** early in my career before embarking on a professorship
at the **University of Hawaii at Manoa**. I left academia in 2019 and continued by research endeavors in the industry.*`},{id:"cs-edu-heading",component:"Heading",level:2,text:"Education"},{id:"cs-edu-list",component:"Markdown",content:`- 2004 - **Ph.D.** Computer Science, Duke University.
  Thesis: *Online Methods for Database Optimization*.
  Advisor: [Jeffrey Scott Vitter](https://en.wikipedia.org/wiki/Jeffrey_Vitter)
- 2000 - **M.Sc.** Information Systems & Computer Science, National University of Singapore.
  Thesis: *A Theoretical Look at Pixel Ordering*.
  Advisor: [Philip M. Long](http://phillong.info/)
- 1999 - **B.Sc.** Information Systems & Computer Science, National University of Singapore.
  Project: *Implementation of the mobile IPv4 configuration option for PPP IPCP (RFC 2290)*.
  Advisor: [Yong-Chiang (Y.C.) Tay](https://www.comp.nus.edu.sg/cs/bio/tayyc/)`},{id:"cs-pubs-heading",component:"Heading",level:2,text:"Publications"},{id:"cs-pubs",component:"DataTable",label:"<i>Scientific articles I have (co-)authored.</i>",dataUrl:"https://lipyeow.github.io/info/data/pubs.json",colspecs:[{title:"Year",field:"year",defaultSort:"desc"},{title:"Venue",field:"venue"},{title:"Title",field:"title",cellStyle:{minWidth:"350px"}},{title:"Authors",field:"authors"},{title:"pdf",field:"pdf",link:{prefix:"https://lipyeow.github.io/home/",text:"pdf"}}],options:{search:!0,paging:!1,exportButton:!0,maxBodyHeight:"70vh",padding:"dense",headerStyle:{backgroundColor:"#FDEBD0"}}},{id:"tab-panel-1",component:"Column",children:["edu-intro","edu-students-heading","edu-students","edu-courses-heading","edu-teaching"]},{id:"edu-intro",component:"Markdown",content:"*Between 2009 and 2019, I was a professor of Information and Computer Science at the University of Hawaii at Manoa where I taught both undergraduate and graduate courses and advised Masters and Doctoral students.*"},{id:"edu-students-heading",component:"Heading",level:2,text:"Student Advisees"},{id:"edu-students",component:"DataTable",label:"<i>Students I have had the privilege of mentoring</i>",dataUrl:"https://lipyeow.github.io/info/data/students.json",colspecs:[{title:"Year",field:"year"},{title:"Degree",field:"degree"},{title:"Name",field:"name",cellStyle:{minWidth:"250px"}},{title:"Thesis",field:"thesis",cellStyle:{minWidth:"550px"}}],options:{search:!0,paging:!1,exportButton:!0,maxBodyHeight:"50vh",padding:"dense",headerStyle:{backgroundColor:"#FDEBD0"}}},{id:"edu-courses-heading",component:"Heading",level:2,text:"Courses"},{id:"edu-teaching",component:"DataTable",label:"<i>Undergraduate and graduate courses I have taught</i>",dataUrl:"https://lipyeow.github.io/info/data/teaching.json",colspecs:[{title:"Year",field:"year",defaultSort:"desc"},{title:"Semester",field:"semester"},{title:"Course",field:"num"},{title:"Title",field:"title",defaultGroupOrder:0},{title:"Level",field:"level"},{title:"Website",field:"url",link:{text:""}}],options:{search:!0,paging:!1,exportButton:!0,maxBodyHeight:"50vh",padding:"dense",grouping:!0,headerStyle:{backgroundColor:"#FDEBD0"}}},{id:"tab-panel-2",component:"Column",children:["swe-intro","swe-patents-heading","swe-patents-list","swe-projects-heading","swe-projects"]},{id:"swe-intro",component:"Markdown",content:`*My first serious software engineering endeavor was writing a
linux kernel module for supporting the PPP protocol over MobileIP back in 1998.
I then progressed to prototyping various research ideas during my graduate
studies. My software engineering career really began at **IBM** developing advance
features for DB2 DBMS and Infosphere Streams software. I then took a break in
academia teaching students how to write data-intensive software applications as
well as advising developing nations on their IT projects as a **World Bank**
consultant. In 2019, I returned to industry (to **FireEye Inc.**) to lead
data-intensive cybersecurity software projects.
In 2022, I joined **Databricks Inc.** as a technical director to lead the cybersecurity GTM for the Lakehouse platform. In 2023, I joined **Splunk Inc.** as Technical Assistant to the CTO to advance Splunk's data lake strategy and in 2024 I took on the role of Senior Director to lead the Splunk AI Toolkit Engineering team. In 2025, I joined the startup **Crogl Inc.** as Distinguished Engineer and Head of AI to revolutionalize security operations.*`},{id:"swe-patents-heading",component:"Heading",level:2,text:"Patents"},{id:"swe-patents-list",component:"Markdown",content:`- A list of [my patents](https://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&r=0&f=S&l=50&TERM1=Lipyeow&FIELD1=INNM&co1=AND&TERM2=Lim&FIELD2=INNM&d=PTXT) (~29) at USPTO Patent Full-Text and Image Database.
- A list of [my patent applications](https://appft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&r=0&f=S&l=50&TERM1=Lipyeow&FIELD1=IN&co1=AND&TERM2=Lim&FIELD2=IN&d=PG01) (~35) at USPTO Patent Application Full-Text and Image Database.`},{id:"swe-projects-heading",component:"Heading",level:2,text:"Projects"},{id:"swe-projects",component:"DataTable",label:"<i>Interesting projects I have worked on.</i>",dataUrl:"https://lipyeow.github.io/info/data/projects.json",colspecs:[{title:"Dates",field:"display_date",cellStyle:{minWidth:"100px"}},{title:"Title",field:"title",cellStyle:{minWidth:"140px"}},{title:"Role",field:"role",cellStyle:{minWidth:"100px"}},{title:"Affiliation",field:"affiliation",cellStyle:{minWidth:"100px"}},{title:"Description",field:"desc",cellStyle:{minWidth:"350px"}}],options:{search:!0,paging:!1,exportButton:!0,maxBodyHeight:"70vh",padding:"dense",headerStyle:{backgroundColor:"#FDEBD0"}}},{id:"tab-panel-3",component:"Column",children:["ma-intro","ma-ilc-section","ma-kalis-section","ma-taiji-section"]},{id:"ma-intro",component:"Markdown",content:`*Studying, training and teaching martial arts is a big part of my life. I
started learning **Chen Style Taijiquan** in Singapore from Sifu Chen
Hui-Qiu and Sifu Hu Su-Tan in 1993. I was then seconded to study under
Grandmaster Zhu Tian-Cai for several years even during my doctoral studies at
Duke University. I met [Sifu Sam Chin](https://iliqchuan.com/grand-master-sam-fs-chin/) in 2004 at a park in Manhattan's Chinatown
on a Sunday and have since studied the art of **I Liq Chuan** with him.
In Honolulu, I briefly dabbled in edge and blunt weapons while studying **Kalis Illustrissimo** with Lowell Manabe from 2017 to 2018.*`},{id:"ma-ilc-section",component:"Section",children:["ma-ilc-img","ma-ilc-heading","ma-ilc-text"]},{id:"ma-ilc-img",component:"Image",src:"https://lipyeow.github.io/home/img/sigong.jpg",float:"left",width:"500px",margin:"0 1em 1em 0",border:"1",caption:"<i>Photo: Kuala Lumpur, Malaysia, 2010. Starting bottom left: Kelley, Lipyeow, Ion, Sigong Chin Lik Keong, Hsin, Andy, Johnny.</i>"},{id:"ma-ilc-heading",component:"Heading",level:2,text:"I Liq Chuan æ„åŠ›æ‹³"},{id:"ma-ilc-text",component:"Markdown",content:`I consider **I Liq Chuan** my primary art. As an internal martial art, I Liq Chuan's curriculum is the Ph.D. program of martial arts: not only does it cover mechanics and physical movement principles, but it dives into the cognitive processes of learning and of the interaction between you and your opponents.

I Liq Chuan was founded by Sigong Chin Lik Keong in Kuala Lumpur, Malaysia, synthesizing and distilling the various chinese martial arts traditions he had learned. The above-mentioned curriculum was the culmination of decades of teaching by Sifu Sam (Fan Siong) Chin after he emigrated to the United States. Note that the curriculum defers from those from other branches of I Liq Chuan.

I have taught I Liq Chuan since 2007: in New York (2007-2009), in Honolulu (2009-2019). I have also organized I Liq Chuan workshops by Sifu Sam Chin in Honolulu between 2010 to 2015.`},{id:"ma-kalis-section",component:"Section",children:["ma-kalis-img","ma-kalis-heading","ma-kalis-text"]},{id:"ma-kalis-img",component:"Image",src:"https://lipyeow.github.io/home/img/20190609_kalis.jpg",float:"right",width:"500px",margin:"1em 0 1em 1em",border:"1",caption:"<i>Photo: Honolulu, HI, 2019. Lipyeow, Rod, and Lowell</i>"},{id:"ma-kalis-heading",component:"Heading",level:2,text:"Kalis Illustrissimo"},{id:"ma-kalis-text",component:"Markdown",content:"A fortuitous meeting of Lowell Manabe and Rod Watson practising Kalis Illustrissimo at Noelani Elementary School in Honolulu, HI, led to two years of weapons training with Lowell Manabe. Lowell Manabe studied under various Balintawak teachers and the Kalis Illustrissimo group under Tony Diego in the Philippines. The beauty of the escrima framework is the distillation of all blunt-and-edge, long-and-short weapons into a set of unifying principles."},{id:"ma-taiji-section",component:"Section",children:["ma-taiji-img","ma-taiji-heading","ma-taiji-text"]},{id:"ma-taiji-img",component:"Image",src:"https://lipyeow.github.io/home/img/jk-ztc01.JPG",float:"left",width:"500px",margin:"1em 1em 1em 0",border:"1",caption:"<i>Photo: Durham, NC, 2001. Starting middle row left: Johnny, Genevieve, Jay, CP Ong, GM Zhu Tian Cai, Lipyeow, and Olivia.</i>"},{id:"ma-taiji-heading",component:"Heading",level:2,text:"Chen Style Taijiquan é™³æ°å¤ªæ¥µæ‹³"},{id:"ma-taiji-text",component:"Markdown",content:`I started learning Chen style Taijiquan at a class in Yishun, Singapore in circa 1993. I am grateful to my teachers Chen Hui-Qiu and Hu Su-Tan for cultivating my interest and for their meticulous instruction in the nuances of Chen style Taijiquan. A few years later, my primary teachers recommended that I study under GM Zhu Tian-Cai, one of the four tigers or buddha warriors of Chen village Taijiquan.

I have taught Taijiquan as a teaching assistant in Singapore from 1995 to 1999. During my graduate studies at Duke University between 1999 and 2004, I started a Taijiquan Club, taught Chen Style Taijiquan, and organized several workshops for GM Zhu Tian-Cai.`},{id:"tab-panel-4",component:"Chat",model:"gpt-4o-mini",storageKeyPrefix:"a2ui-chat"}]}};var Br=Object.defineProperty,jr=Object.getOwnPropertyDescriptor,z=(e,t,n,i)=>{for(var r=i>1?void 0:i?jr(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=(i?o(t,n,r):o(r))||r);return i&&r&&Br(t,n,r),r};let D=class extends N{constructor(){super(...arguments),this.model="gpt-4o-mini",this.storageKeyPrefix="a2ui-chat",this._connected=!1,this._endpoint="",this._apiKey="",this._modelName="",this._messages=[],this._input="",this._streaming=!1,this._error="",this._abortController=null}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this._loadFromStorage()}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._abortController)==null||e.abort()}_storageKey(e){return`${this.storageKeyPrefix}-${e}`}_loadFromStorage(){try{const e=sessionStorage.getItem(this._storageKey("endpoint")),t=sessionStorage.getItem(this._storageKey("apiKey")),n=sessionStorage.getItem(this._storageKey("model")),i=sessionStorage.getItem(this._storageKey("messages"));e&&t&&(this._endpoint=e,this._apiKey=t,this._modelName=n||this.model,this._connected=!0),i&&(this._messages=JSON.parse(i))}catch{}}_saveConfig(){sessionStorage.setItem(this._storageKey("endpoint"),this._endpoint),sessionStorage.setItem(this._storageKey("apiKey"),this._apiKey),sessionStorage.setItem(this._storageKey("model"),this._modelName)}_saveMessages(){sessionStorage.setItem(this._storageKey("messages"),JSON.stringify(this._messages))}_handleConnect(){const e=this.querySelector("#chat-endpoint"),t=this.querySelector("#chat-apikey"),n=this.querySelector("#chat-model"),i=(e==null?void 0:e.value.trim())??"",r=(t==null?void 0:t.value.trim())??"",s=(n==null?void 0:n.value.trim())||this.model;if(!i||!r){this._error="Please provide both endpoint URL and API key.";return}this._endpoint=i.replace(/\/+$/,""),this._apiKey=r,this._modelName=s,this._error="",this._connected=!0,this._saveConfig()}_handleDisconnect(){var e;(e=this._abortController)==null||e.abort(),this._connected=!1,this._endpoint="",this._apiKey="",this._modelName="",this._messages=[],this._streaming=!1,this._error="",sessionStorage.removeItem(this._storageKey("endpoint")),sessionStorage.removeItem(this._storageKey("apiKey")),sessionStorage.removeItem(this._storageKey("model")),sessionStorage.removeItem(this._storageKey("messages"))}_handleClear(){var e;(e=this._abortController)==null||e.abort(),this._messages=[],this._streaming=!1,this._error="",this._saveMessages()}_handleKeydown(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this._handleSend())}async _handleSend(){const e=this._input.trim();if(!e||this._streaming)return;this._error="",this._input="",this._messages=[...this._messages,{role:"user",content:e}],this._saveMessages();const t=this.querySelector(".chat-textarea");t&&(t.value=""),await this._streamResponse()}_handleStop(){var e;(e=this._abortController)==null||e.abort(),this._streaming=!1}_extractSiteContent(){const e=[];e.push(`You are a helpful assistant that answers questions about the person described below. Be concise: give short, direct answers that specifically address the question asked. Avoid filler, unnecessary context, or restating the question. Use bullet points for lists. If the answer is not in the provided content, say so briefly.
`);const t=[];for(const n of Mn.updateComponents.components){const i=n;switch(i.component){case"Heading":e.push(`## ${i.text}`);break;case"Markdown":e.push(i.content);break;case"RichContent":{const r=document.createElement("div");r.innerHTML=i.htmlContent;const s=r.textContent??"";s.trim()&&e.push(s.trim());break}case"DataTable":t.push(i.dataUrl);break}}return{text:e.join(`

`),dataUrls:t}}async _buildSystemPrompt(){const{text:e,dataUrls:t}=this._extractSiteContent(),n=[e];if(t.length>0){const i=await Promise.allSettled(t.map(async r=>{const s=await fetch(r);if(!s.ok)throw new Error(`Failed to fetch ${r}`);const o=await s.json();return{url:r,data:o}}));for(const r of i)r.status==="fulfilled"&&n.push(`
## Data from ${r.value.url}
\`\`\`json
${JSON.stringify(r.value.data,null,2)}
\`\`\``)}return n.join(`

`)}async _streamResponse(){var e,t,n,i;this._streaming=!0,this._abortController=new AbortController,this._messages=[...this._messages,{role:"assistant",content:""}];try{const s=[{role:"system",content:await this._buildSystemPrompt()},...this._messages.filter(c=>c.content||c.role==="assistant").slice(0,-1).map(c=>({role:c.role,content:c.content}))],o=await fetch(this._endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._apiKey}`},body:JSON.stringify({model:this._modelName||this.model,messages:s,stream:!0}),signal:this._abortController.signal});if(!o.ok){const c=await o.text().catch(()=>o.statusText);throw new Error(`API error ${o.status}: ${c}`)}const l=(e=o.body)==null?void 0:e.getReader();if(!l)throw new Error("No response body");const a=new TextDecoder;let u="";for(;;){const{done:c,value:h}=await l.read();if(c)break;u+=a.decode(h,{stream:!0});const g=u.split(`
`);u=g.pop()??"";for(const d of g){const p=d.trim();if(!p||!p.startsWith("data:"))continue;const f=p.slice(5).trim();if(f!=="[DONE]")try{const m=(i=(n=(t=JSON.parse(f).choices)==null?void 0:t[0])==null?void 0:n.delta)==null?void 0:i.content;if(m){const $=[...this._messages],C=$[$.length-1];$[$.length-1]={...C,content:C.content+m},this._messages=$}}catch{}}}}catch(r){r instanceof DOMException&&r.name==="AbortError"||(this._error=r instanceof Error?r.message:"An unknown error occurred")}finally{this._streaming=!1,this._abortController=null,this._messages.length>0&&this._messages[this._messages.length-1].role==="assistant"&&!this._messages[this._messages.length-1].content&&(this._messages=this._messages.slice(0,-1)),this._saveMessages()}}updated(){const e=this.querySelector(".chat-messages");e&&(e.scrollTop=e.scrollHeight)}_renderConfig(){return _`
      <div class="chat-config">
        <h3 class="chat-config-title">Connect to an LLM</h3>
        <p class="chat-config-desc">
          Provide your own API key for an OpenAI-compatible endpoint.
          Your key is stored only in sessionStorage and cleared when the browser tab closes.
        </p>

        ${this._error?_`<div class="chat-error">${this._error}</div>`:k}

        <label class="chat-label">Protocol</label>
        <select class="chat-config-input" disabled>
          <option>OpenAI API</option>
        </select>

        <label class="chat-label">Endpoint URL</label>
        <input
          id="chat-endpoint"
          class="chat-config-input"
          type="text"
          placeholder="https://api.openai.com/v1/chat/completions"
          .value=${this._endpoint}
        />

        <label class="chat-label">Model</label>
        <input
          id="chat-model"
          class="chat-config-input"
          type="text"
          placeholder="${this.model}"
          .value=${this._modelName}
        />

        <label class="chat-label">API Key</label>
        <input
          id="chat-apikey"
          class="chat-config-input"
          type="password"
          placeholder="sk-..."
          .value=${this._apiKey}
        />

        <button class="chat-connect-btn" @click=${this._handleConnect}>
          Connect
        </button>
      </div>
    `}_renderChat(){return _`
      <div class="chat-interface">
        <div class="chat-header">
          <span class="chat-header-status">
            Connected to <strong>${this._endpoint}</strong>
          </span>
          <div class="chat-header-actions">
            <button class="chat-action-btn" @click=${this._handleClear}>
              Clear
            </button>
            <button class="chat-action-btn" @click=${this._handleDisconnect}>
              Disconnect
            </button>
          </div>
        </div>

        ${this._error?_`<div class="chat-error">${this._error}</div>`:k}

        <div class="chat-messages">
          ${this._messages.length===0?_`<div class="chat-empty">Ask me anything about Lipyeow</div>`:this._messages.map(e=>_`
                  <div class="chat-message chat-message-${e.role}">
                    <div class="chat-message-label">
                      ${e.role==="user"?"You":"Assistant"}
                    </div>
                    <div class="chat-message-content">
                      ${e.role==="assistant"?_`<div class="chat-markdown">
                            ${se(x.parse(e.content||"..."))}
                          </div>`:e.content}
                    </div>
                  </div>
                `)}
        </div>

        <div class="chat-input-row">
          <textarea
            class="chat-textarea"
            placeholder="Type a message..."
            rows="2"
            @input=${e=>this._input=e.target.value}
            @keydown=${this._handleKeydown}
            .value=${this._input}
            ?disabled=${this._streaming}
          ></textarea>
          ${this._streaming?_`<button
                class="chat-send-btn chat-stop-btn"
                @click=${this._handleStop}
              >
                Stop
              </button>`:_`<button class="chat-send-btn" @click=${this._handleSend}>
                Send
              </button>`}
        </div>
      </div>
    `}render(){return _`
      <div class="chat-container">
        ${this._connected?this._renderChat():this._renderConfig()}
      </div>
    `}};z([G()],D.prototype,"model",2);z([G()],D.prototype,"storageKeyPrefix",2);z([F()],D.prototype,"_connected",2);z([F()],D.prototype,"_endpoint",2);z([F()],D.prototype,"_apiKey",2);z([F()],D.prototype,"_modelName",2);z([F()],D.prototype,"_messages",2);z([F()],D.prototype,"_input",2);z([F()],D.prototype,"_streaming",2);z([F()],D.prototype,"_error",2);D=z([Ce("a2ui-chat")],D);var Ur=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,Ge=(e,t,n,i)=>{for(var r=i>1?void 0:i?Nr(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=(i?o(t,n,r):o(r))||r);return i&&r&&Ur(t,n,r),r};let $e=class extends N{constructor(){super(...arguments),this.tabSpec=[],this._activeTab=0}createRenderRoot(){return this}_handleTabClick(e){this._activeTab=e}render(){return _`
      <div class="tab-bar">
        ${this.tabSpec.map((e,t)=>_`
            <button
              class=${this._activeTab===t?"active":""}
              @click=${()=>this._handleTabClick(t)}
            >
              ${e.title}
            </button>
          `)}
      </div>
      ${this.tabSpec.map((e,t)=>_`
          <div class="tab-panel ${this._activeTab===t?"active":""}">
            ${this.renderer.renderChildById(e.child)}
          </div>
        `)}
    `}};Ge([G({type:Array})],$e.prototype,"tabSpec",2);Ge([G({attribute:!1})],$e.prototype,"renderer",2);Ge([F()],$e.prototype,"_activeTab",2);$e=Ge([Ce("a2ui-tabs-host")],$e);class qr{constructor(t){this.componentMap=new Map;for(const n of t.updateComponents.components)this.componentMap.set(n.id,n)}render(){const t=this.componentMap.get("root");return t?this.renderComponent(t):_`<p>Error: no root component found</p>`}renderChildById(t){const n=this.componentMap.get(t);return n?this.renderComponent(n):_`<p>Error: component "${t}" not found</p>`}renderComponent(t){switch(t.component){case"Column":return this.renderColumn(t);case"Row":return this.renderRow(t);case"Tabs":return this.renderTabs(t);case"RichContent":return this.renderRichContent(t);case"DataTable":return this.renderDataTable(t);case"Image":return this.renderImage(t);case"Heading":return this.renderHeading(t);case"Markdown":return this.renderMarkdown(t);case"Section":return this.renderSection(t);case"Chat":return this.renderChat(t);default:return _`<p>Unknown component: ${t.component}</p>`}}renderColumn(t){return _`
      <div class="a2ui-column">
        ${t.children.map(n=>this.renderChildById(n))}
      </div>
    `}renderRow(t){return _`
      <div class="header-row">
        ${t.children.map(n=>this.renderChildById(n))}
      </div>
    `}renderTabs(t){return _`
      <a2ui-tabs-host
        .tabSpec=${t.tabs}
        .renderer=${this}
      ></a2ui-tabs-host>
    `}renderRichContent(t){return _`
      <rich-content .htmlContent=${t.htmlContent}></rich-content>
    `}renderDataTable(t){return _`
      <data-table
        data-url=${t.dataUrl}
        label=${t.label}
        .colspecs=${t.colspecs}
        .options=${t.options}
      ></data-table>
    `}renderImage(t){const n=[];t.float&&n.push(`float:${t.float}`),t.width&&n.push(`width:${t.width}`),t.margin&&n.push(`margin:${t.margin}`);const i=[];return t.width&&i.push(`width:${t.width}`),t.height&&i.push(`height:${t.height}`),_`
      <figure class="a2ui-image" style=${n.join(";")}>
        <img src=${t.src}
             alt=${t.alt??""}
             style=${i.join(";")}
             border=${t.border??""} />
        ${t.caption?_`<figcaption>${se(t.caption)}</figcaption>`:k}
      </figure>
    `}renderHeading(t){const n=`h${t.level}`;return _`${se(`<${n}>${t.text}</${n}>`)}`}renderMarkdown(t){const n=x.parse(t.content);return _`<div class="a2ui-markdown">${se(n)}</div>`}renderSection(t){return _`
      <div class="a2ui-section">
        ${t.children.map(n=>this.renderChildById(n))}
      </div>
    `}renderChat(t){return _`<a2ui-chat
      .model=${t.model??"gpt-4o-mini"}
      .storageKeyPrefix=${t.storageKeyPrefix??"a2ui-chat"}
    ></a2ui-chat>`}}var Kr=Object.getOwnPropertyDescriptor,Zr=(e,t,n,i)=>{for(var r=i>1?void 0:i?Kr(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(r=o(r)||r);return r};let Jt=class extends N{constructor(){super(...arguments),this.renderer=new qr(Mn)}createRenderRoot(){return this}render(){return this.renderer.render()}};Jt=Zr([Ce("app-root")],Jt);const Xt=document.querySelector("#app");if(Xt){const e=document.createElement("app-root");Xt.appendChild(e)}
